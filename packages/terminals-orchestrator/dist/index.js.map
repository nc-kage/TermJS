{"version":3,"file":"index.js","sources":["../../../general/utils/browser.ts","../../../general/utils/string.ts","../../../general/constants/keyCodes.ts","../src/TerminalsOrchestrator/Workspace/SelectInput/index.ts","../src/TerminalsOrchestrator/Workspace/Tab/index.ts","../src/TerminalsOrchestrator/Workspace/Tabs/constants.ts","../src/TerminalsOrchestrator/Workspace/HiddenList/HiddenListItem/index.ts","../src/TerminalsOrchestrator/Workspace/HiddenList/index.ts","../src/TerminalsOrchestrator/Workspace/Tabs/index.ts","../src/TerminalsOrchestrator/Workspace/Content/constants.ts","../src/TerminalsOrchestrator/Workspace/Content/ContentWindow/TermHeaderPlugin/TermHeader/index.ts","../src/TerminalsOrchestrator/Workspace/Content/ContentWindow/TermHeaderPlugin/index.ts","../src/TerminalsOrchestrator/strings.ts","../src/TerminalsOrchestrator/Workspace/Content/ContentWindow/index.ts","../../../general/utils/event.ts","../src/TerminalsOrchestrator/Workspace/ConfirmationModal/index.ts","../src/TerminalsOrchestrator/Workspace/Content/index.ts","../src/TerminalsOrchestrator/Workspace/index.ts","../src/TerminalsOrchestrator/index.ts"],"sourcesContent":["export const IS_MAC = navigator.platform.toUpperCase().indexOf('MAC') >= 0;\nexport const IS_TOUCH = window.ontouchstart !== undefined;\n","export const escapeString = (str: string): string => str\n  .replace(/&/g, '&amp;')\n  .replace(/</g, '&lt;')\n  .replace(/>/g, '&gt;')\n  .replace(/\"/g, '&quot;')\n  .replace(/'/g, '&#039;');\n\nexport const safeTemplate = (template: string, data: { [key: string]: string }) => Object.keys(data)\n  .reduce((\n    acc: string, key: string,\n  ) => acc.replace(new RegExp(`{${key}}`, 'g'), escapeString(data[key])), template);\n","export const ENTER_KEY_CODE = 13;\nexport const ESC_KEY_CODE = 27;\nexport const ONE_KEY_CODE = 49;\nexport const E_KEY_CODE = 69;\n","import { TemplateEngine } from '@term-js/term';\nimport { ENTER_KEY_CODE } from '@general/constants/keyCodes';\n\nimport template from './template.html';\nimport css from './index.scss';\n\nimport ISelectInput from '@TerminalsOrchestrator/Workspace/SelectInput/ISelectInput';\nimport { OptionsType } from '@TerminalsOrchestrator/Workspace/SelectInput/types';\n\nclass SelectInput extends TemplateEngine implements ISelectInput {\n  private isDisabled: boolean = false;\n  public get disabled(): boolean {\n    return this.isDisabled;\n  }\n  public set disabled(val: boolean) {\n    const { isDisabled } = this;\n    this.isDisabled = val;\n    if (isDisabled === val) return;\n    const root = this.getRef('root') as HTMLElement;\n    if (val) {\n      root.classList.add(css.disabled);\n      root.setAttribute('disabled', 'true');\n    } else {\n      root.removeAttribute('disabled');\n      root.classList.remove(css.disabled);\n    }\n  }\n\n  public get value(): string {\n    const root = this.getRef('root') as HTMLInputElement;\n    return root.value;\n  }\n\n  public set value(val: string) {\n    const root = this.getRef('root') as HTMLInputElement;\n    root.value = val;\n  }\n\n  private options: OptionsType;\n  constructor(container: HTMLElement, options: OptionsType = { value: '' }) {\n    super(template, container);\n    this.options = options;\n    this.render();\n    this.addListeners();\n  }\n\n  public render() {\n    const { value, disabled = false, className = '' } = this.options;\n    super.render({ css, className });\n    this.disabled = disabled;\n    (this.getRef('root') as HTMLInputElement).value = value;\n  }\n\n  public select() {\n    const root = this.getRef('root') as HTMLInputElement;\n    root.select();\n  }\n\n  public focus() {\n    const root = this.getRef('root') as HTMLInputElement;\n    root.focus();\n  }\n\n  public blur() {\n    const root = this.getRef('root') as HTMLInputElement;\n    root.blur();\n  }\n\n  public destroy() {\n    this.removeListeners();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const root = this.getRef('root') as HTMLInputElement;\n    const { onBlur, onSubmit } = this.options;\n    if (onBlur) root.addEventListener('blur', onBlur);\n    if (onSubmit) root.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  private removeListeners() {\n    const root = this.getRef('root') as HTMLInputElement;\n    const { onBlur, onSubmit } = this.options;\n    if (onBlur) root.removeEventListener('blur', onBlur);\n    if (onSubmit) root.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  private keyDownHandler = (e: KeyboardEvent) => {\n    const { onSubmit } = this.options;\n    const { keyCode } = e;\n    if (keyCode === ENTER_KEY_CODE && onSubmit) onSubmit(e);\n  }\n}\n\nexport default SelectInput;\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport { Emitter, EMITTER_FORCE_LAYER_TYPE } from 'key-layers-js';\n\nimport { IS_MAC } from '@general/utils/browser';\nimport { escapeString } from '@general/utils/string';\nimport { ONE_KEY_CODE } from '@general/constants/keyCodes';\nimport ITab from '@TerminalsOrchestrator/Workspace/Tab/ITab';\nimport {\n  EventHandlerType,\n  TabOptionsType,\n  EventType,\n  ClickEventHandlerType, DragEventHandlerType, RenameEventHandlerType,\n} from '@TerminalsOrchestrator/Workspace/Tab/types';\nimport SelectInput from '@TerminalsOrchestrator/Workspace/SelectInput';\nimport ISelectInput from '@TerminalsOrchestrator/Workspace/SelectInput/ISelectInput';\n\nclass Tab extends TemplateEngine implements ITab {\n  public get editableTitle(): boolean {\n    return !this.titleInput.disabled;\n  }\n\n  public set editableTitle(val: boolean) {\n    const { titleInput } = this;\n    if (titleInput.disabled !== val) return;\n    const title = this.getRef('title') as HTMLElement;\n    if (val) {\n      titleInput.disabled = false;\n      titleInput.focus();\n      titleInput.select();\n      title.classList.add(css.editable);\n    } else {\n      titleInput.blur();\n      titleInput.disabled = true;\n      title.classList.remove(css.editable);\n    }\n  }\n\n  private shortcutIndexField: number = 0;\n  public set shortcutIndex(val: number) {\n    const { shortcutIndexField, emitter } = this;\n    const shortcutText = this.getRef('shortcutText');\n    this.shortcutIndexField = val;\n    if (shortcutText && val !== shortcutIndexField) {\n      shortcutText.innerHTML = this.shortcut;\n      if (val && val < 10) {\n        emitter.removeListener('keyDown', this.keyboardSelectHandler);\n        emitter.addListener('keyDown', this.keyboardSelectHandler, {\n          code: ONE_KEY_CODE + val - 1, ...(IS_MAC ? { metaKey: true } : { altKey: true }),\n        });\n      } else {\n        emitter.removeListener('keyDown', this.keyboardSelectHandler);\n      }\n    }\n  }\n  public get shortcutIndex(): number {\n    return this.shortcutIndexField;\n  }\n\n  private indexField: number = -1;\n  public set index(val: number) {\n    this.indexField = val;\n  }\n  public get index(): number {\n    return this.indexField;\n  }\n\n  public get width(): number {\n    const root = this.getRef('root');\n    return root ? (root as HTMLElement).offsetWidth : 0;\n  }\n\n  private titleField: string = '';\n  public set title(val: string) {\n    const titleText = this.getRef('titleText');\n    if (titleText && val !== this.titleField) titleText.innerHTML = escapeString(val);\n    this.titleField = val;\n  }\n  public get title(): string {\n    return this.titleField;\n  }\n\n  private isActive: boolean = false;\n  public set active(val: boolean) {\n    const root = this.getRef('root');\n    if (root && val !== this.isActive) {\n      if (val) root.classList.add(css.active);\n      else root.classList.remove(css.active);\n    }\n    this.isActive = val;\n  }\n  public get active(): boolean {\n    return this.isActive;\n  }\n\n  private isInvisible: boolean;\n  public set invisible(val: boolean) {\n    if (this.isInvisible === val) return;\n    this.isInvisible = val;\n    const root = this.getRef('root');\n    if (!root) return;\n    if (val) root.classList.add(css.invisible);\n    else root.classList.remove(css.invisible);\n  }\n  public get invisible(): boolean {\n    return this.isInvisible;\n  }\n\n  private isHiddenField: boolean = false;\n  public set hidden(val: boolean) {\n    if (this.isHiddenField === val) return;\n    this.isHiddenField = val;\n    const root = this.getRef('root');\n    if (!root) return;\n    if (val) root.classList.add(css.hidden);\n    else root.classList.remove(css.hidden);\n  }\n  public get hidden(): boolean {\n    return this.isHiddenField;\n  }\n\n  private leftField: number = 0;\n  public get left(): number {\n    return this.leftField;\n  }\n  public set left(val: number) {\n    if (this.leftField === val) return;\n    const root = this.getRef('root') as HTMLElement;\n    this.leftField = val;\n    root.style.left = `${val}px`;\n  }\n\n  private disabledHoverField: boolean = false;\n  public get disabledHover(): boolean {\n    return this.disabledHoverField;\n  }\n  public set disabledHover(val: boolean) {\n    if (this.disabledHoverField === val) return;\n    this.disabledHoverField = val;\n    const root = this.getRef('root') as HTMLElement;\n    if (val) root.classList.add(css.skipHover);\n    else root.classList.remove(css.skipHover);\n  }\n\n  private get shortcut(): string {\n    const { shortcutIndexField } = this;\n    if (!shortcutIndexField) return '';\n    return IS_MAC ? `âŒ˜${shortcutIndexField}` : `alt${shortcutIndexField}`;\n  }\n\n  private handlers: {\n    click: ClickEventHandlerType[];\n    close: ClickEventHandlerType[];\n    drag: DragEventHandlerType[];\n    dragend: DragEventHandlerType[];\n    rename: RenameEventHandlerType[];\n  } = { click: [], close: [], drag: [], dragend: [], rename: [] };\n  private readonly emitter: Emitter = new Emitter(EMITTER_FORCE_LAYER_TYPE);\n  private options: TabOptionsType;\n  private titleInput: ISelectInput;\n\n  constructor(container: HTMLElement, options: TabOptionsType) {\n    super(template, container);\n    this.isActive = options.active || false;\n    this.isInvisible = options.invisible || false;\n    this.titleField = options.title || '';\n    this.indexField = options.index === undefined ? -1 : options.index;\n    this.options = options;\n    this.render();\n    this.titleInput = new SelectInput(this.getRef('inputContainer') as HTMLElement, {\n      className: css.input, value: this.titleField, disabled: true,\n      onSubmit: this.submitTitleHandler, onBlur: this.submitTitleHandler,\n    });\n    this.addListeners();\n  }\n\n  public render() {\n    const { title, active, shortcut, index } = this;\n    super.render({\n      shortcut,\n      css,\n      title: escapeString(title),\n      active: active ? css.active : '',\n      reverse: IS_MAC ? '' : css.reverse,\n      first: index === 0 ? css.first : '',\n      invisible: this.isInvisible ? css.invisible : '',\n      hidden: this.isHiddenField ? css.hidden : '',\n    });\n  }\n\n  public addEventListener(event: EventType, handler: EventHandlerType) {\n    const list = this.handlers[event] as ClickEventHandlerType[];\n    if (list) list.push(handler as ClickEventHandlerType);\n  }\n\n  public removeEventListener(event: EventType, handler: EventHandlerType) {\n    const list = this.handlers[event] as ClickEventHandlerType[];\n    if (!list) return;\n    const index = list.indexOf(handler as ClickEventHandlerType);\n    if (index >= 0) list.splice(index, 1);\n  }\n\n  public destroy() {\n    this.emitter.destroy();\n    this.removeListeners();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const root = this.getRef('root') as HTMLElement;\n    const close = this.getRef('close') as HTMLElement;\n    const rename = this.getRef('rename') as HTMLElement;\n    root.addEventListener('click', this.clickHandler);\n    root.addEventListener('dragstart', this.dragStartHandler);\n    root.addEventListener('drag', this.dragHandler);\n    document.addEventListener('dragover', this.dragoverHandler);\n    root.addEventListener('dragend', this.dragEndHandler);\n    close.addEventListener('click', this.closeHandler);\n    rename.addEventListener('click', this.rename);\n  }\n\n  private removeListeners() {\n    const root = this.getRef('root') as HTMLElement;\n    const close = this.getRef('close') as HTMLElement;\n    const rename = this.getRef('rename') as HTMLElement;\n    root.removeEventListener('click', this.clickHandler);\n    root.removeEventListener('dragstart', this.dragStartHandler);\n    root.removeEventListener('drag', this.dragHandler);\n    document.removeEventListener('dragover', this.dragoverHandler);\n    root.addEventListener('dragend', this.dragEndHandler);\n    close.removeEventListener('click', this.closeHandler);\n    rename.removeEventListener('click', this.rename);\n    this.emitter.removeListener('keyDown', this.keyboardSelectHandler);\n  }\n\n  private rename = () => {\n    this.editableTitle = true;\n  }\n\n  private clickHandler = (e: Event) => {\n    const { index, handlers } = this;\n    handlers.click.forEach(handler => handler(index, e));\n  }\n\n  private keyboardSelectHandler = (e: KeyboardEvent) => {\n    e.preventDefault();\n    const { index, handlers } = this;\n    handlers.click.forEach(handler => handler(index, e));\n  }\n\n  private closeHandler = (e: Event) => {\n    const { index, handlers } = this;\n    e.stopPropagation();\n    handlers.close.forEach(handler => handler(index, e));\n  }\n\n  private dragStartHandler = () => {\n    const root = this.getRef('root') as HTMLElement;\n    root.classList.add(css.draggable);\n  }\n\n  private dragHandler = (e: DragEvent) => {\n    const { handlers, index } = this;\n    handlers.drag.forEach(handler => handler(index, e));\n  }\n\n  private dragEndHandler = (e: DragEvent) => {\n    const { handlers, index } = this;\n    const root = this.getRef('root') as HTMLElement;\n    root.classList.remove(css.draggable);\n    handlers.dragend.forEach(handler => handler(index, e));\n  }\n\n  private dragoverHandler = (e: DragEvent) => {\n    e.preventDefault();\n  }\n\n  private submitTitleHandler = () => {\n    const { titleInput, index, handlers } = this;\n    this.title = titleInput.value;\n    this.editableTitle = false;\n    handlers.rename.forEach((handler: RenameEventHandlerType) => {\n      handler(index, this.title);\n    });\n  }\n}\n\nexport default Tab;\n","export const FOCUS_EVENT_TYPE = 'focus';\nexport const CLOSE_EVENT_TYPE = 'close';\nexport const CLICK_EVENT_TYPE = 'click';\nexport const DRAG_EVENT_TYPE = 'drag';\nexport const DRAG_END_EVENT_TYPE = 'dragend';\nexport const RENAME_EVENT_TYPE = 'rename';\nexport const ADD_EVENT_TYPE = 'add';\n\nexport const TAB_EVENTS = [FOCUS_EVENT_TYPE, CLOSE_EVENT_TYPE];\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport IHiddenListItem from './IHiddenListItem';\n\nclass HiddenListItem extends TemplateEngine implements IHiddenListItem {\n  private text: string;\n  private index: number;\n  constructor(container: HTMLElement, options: { text: string; index: number }) {\n    super(template, container);\n    this.text = options.text;\n    this.index = options.index;\n    this.render();\n  }\n\n  public render() {\n    const { text, index } = this;\n    super.render({ css, text, index });\n  }\n}\n\nexport default HiddenListItem;\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { ITemplateEngine, TemplateEngine } from '@term-js/term';\nimport { Emitter, EMITTER_TOP_LAYER_TYPE } from 'key-layers-js';\n\nimport IHiddenList from '@TerminalsOrchestrator/Workspace/HiddenList/IHiddenList';\nimport { HiddenListOptionsType } from '@TerminalsOrchestrator/Workspace/HiddenList/types';\nimport HiddenListItem from '@TerminalsOrchestrator/Workspace/HiddenList/HiddenListItem';\nimport IHiddenListItem from '@TerminalsOrchestrator/Workspace/HiddenList/HiddenListItem/IHiddenListItem';\nimport { ESC_KEY_CODE } from '@general/constants/keyCodes';\n\nclass HiddenList extends TemplateEngine implements IHiddenList {\n  private readonly options: HiddenListOptionsType = { items: [] };\n  private items: IHiddenListItem[] = [];\n  private emitter: Emitter = new Emitter(EMITTER_TOP_LAYER_TYPE);\n  constructor(container: HTMLElement, options: HiddenListOptionsType = { items: [] }) {\n    super(template, container);\n    this.options = options;\n    this.render();\n  }\n\n  public render() {\n    super.render({ css, className: this.options.className || '' });\n    this.renderItems();\n    this.updatePosition();\n    this.addListeners();\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.items.forEach(item => item.destroy());\n    this.emitter.destroy();\n    super.destroy();\n  }\n\n  private renderItems() {\n    const { items } = this.options;\n    const list = this.getRef('list') as HTMLElement;\n    this.items = items.map(({ text, id }): ITemplateEngine => {\n      return new HiddenListItem(list, { text, index: id });\n    });\n  }\n\n  private updatePosition() {\n    const { position = {} } = this.options;\n    const root = this.getRef('root') as HTMLElement;\n    root.style.left = position.left ? `${position.left || 0}px` : '';\n    root.style.right = position.right ? `${position.right || 0}px` : '';\n    root.style.top = position.top ? `${position.top || 0}px` : '';\n    root.style.bottom = position.bottom ? `${position.bottom || 0}px` : '';\n  }\n\n  private addListeners() {\n    const { onClose } = this.options;\n    if (onClose) {\n      this.emitter.addListener('keyDown', onClose, { code: ESC_KEY_CODE });\n      (this.getRef('root') as HTMLElement).addEventListener('click', onClose);\n    }\n    (this.getRef('list') as HTMLElement).addEventListener('click', this.onListClick);\n  }\n\n  private removeListeners() {\n    const { onClose } = this.options;\n    if (onClose) {\n      this.emitter.removeListener('keyDown', onClose);\n      (this.getRef('root') as HTMLElement).removeEventListener('click', onClose);\n    }\n    (this.getRef('list') as HTMLElement).removeEventListener('click', this.onListClick);\n  }\n\n  private onListClick = (e: Event) => {\n    const { onSelect } = this.options;\n    e.stopPropagation();\n    const dataIndex = (e.target as HTMLElement).getAttribute('data-index');\n    if (dataIndex && onSelect) onSelect(Number(dataIndex), e);\n  }\n}\n\nexport default HiddenList;\n","import ResizeObserver from 'resize-observer-polyfill';\n\nimport template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport ITabs from '@TerminalsOrchestrator/Workspace/Tabs/ITabs';\nimport ITab from '@TerminalsOrchestrator/Workspace/Tab/ITab';\nimport Tab from '@TerminalsOrchestrator/Workspace/Tab';\nimport {\n  EventType,\n  EventHandlerType,\n  TabEventType,\n  TabEventHandlerType,\n  DragEndEventHandlerType,\n  TabInfoType,\n  OptionsType,\n} from '@TerminalsOrchestrator/Workspace/Tabs/types';\nimport {\n  ADD_EVENT_TYPE,\n  CLICK_EVENT_TYPE,\n  CLOSE_EVENT_TYPE,\n  DRAG_END_EVENT_TYPE,\n  DRAG_EVENT_TYPE,\n  FOCUS_EVENT_TYPE, RENAME_EVENT_TYPE,\n  TAB_EVENTS,\n} from '@TerminalsOrchestrator/Workspace/Tabs/constants';\nimport HiddenList from '@TerminalsOrchestrator/Workspace/HiddenList';\nimport IHiddenList from '@TerminalsOrchestrator/Workspace/HiddenList/IHiddenList';\n\nclass Tabs extends TemplateEngine implements ITabs {\n  private tabsField: TabInfoType[] = [];\n  public get tabs(): TabInfoType[] {\n    return this.tabsField;\n  }\n  public set tabs(val: TabInfoType[]) {\n    const { tabsInfo } = this;\n    this.tabsField = val;\n    tabsInfo.forEach(item => item.tab.destroy());\n    this.tabsInfo = [];\n    this.activeTabField = 0;\n    this.renderTabs();\n    this.updateListView();\n  }\n\n  private activeTabField: number = 0;\n  public get activeTab(): number {\n    return this.activeTabField;\n  }\n  public set activeTab(val: number) {\n    const { tabsField, tabsInfo, activeTabField } = this;\n    if (val >= 0 && val <= tabsField.length - 1) {\n      if (tabsInfo[activeTabField]) tabsInfo[activeTabField].tab.active = false;\n      const tabInfo = tabsInfo[val];\n      this.activeTabField = val;\n      if (tabInfo) tabInfo.tab.active = true;\n      if (!tabInfo.isVisible) this.updateListView();\n    }\n  }\n\n  private visibleListWidth: number = 0;\n  private checkWidth: number = 0;\n  private hiddenList?: IHiddenList;\n  private options: OptionsType;\n  private tabsInfo: { isVisible: boolean; width: number; tab: ITab }[] = [];\n  private readonly ro: ResizeObserver;\n  private handlers: {\n    focus: EventHandlerType[];\n    close: EventHandlerType[];\n    add: EventHandlerType[];\n    dragend: EventHandlerType[];\n  } = { focus: [], close: [], add: [], dragend: [] };\n  private dragInfo?: {\n    left: number;\n    index: number;\n    replaceIndex: number;\n  };\n\n  constructor(container: HTMLElement, options: OptionsType = {}) {\n    super(template, container);\n    this.options = options;\n    this.ro = new ResizeObserver(this.observeHandler);\n    this.render();\n  }\n\n  public render() {\n    super.render({ css });\n    this.checkWidth = (this.getRef('checkContainer') as  HTMLElement).offsetWidth;\n    this.addListeners();\n    const addButton = this.getRef('add') as HTMLElement;\n    addButton.setAttribute('title', 'alt + E');\n  }\n\n  public destroy() {\n    this.removeListeners();\n    super.destroy();\n  }\n\n  public addEventListener(event: EventType, handler: EventHandlerType) {\n    const { handlers, tabsInfo } = this;\n    const list = handlers[event];\n    if (!list) return;\n    list.push(handler);\n    if (TAB_EVENTS.includes(event)) {\n      tabsInfo.forEach((tabInfo) => {\n        const tabEvent = event === FOCUS_EVENT_TYPE ? CLICK_EVENT_TYPE : event;\n        tabInfo.tab.addEventListener(tabEvent as TabEventType, handler as TabEventHandlerType);\n      });\n    }\n  }\n\n  public removeEventListener(event: EventType, handler: EventHandlerType) {\n    const { handlers, tabsInfo } = this;\n    const list = handlers[event];\n    if (!list) return;\n    const index = list.indexOf(handler);\n    if (index < 0) return;\n    list.splice(index, 1);\n    if (TAB_EVENTS.includes(event)) {\n      tabsInfo.forEach((tabInfo) => {\n        const tabEvent = event === FOCUS_EVENT_TYPE ? CLICK_EVENT_TYPE : event;\n        tabInfo.tab.removeEventListener(tabEvent as TabEventType, handler as TabEventHandlerType);\n      });\n    }\n  }\n\n  private addListeners() {\n    (this.getRef('add') as HTMLElement).addEventListener('click', this.addClickHandler);\n    (this.getRef('left-more') as HTMLElement).addEventListener('click', this.showLeftHiddenTabs);\n    (this.getRef('right-more') as HTMLElement).addEventListener('click', this.showRightHiddenTabs);\n    this.ro.observe(this.getRef('root') as HTMLElement);\n    this.ro.observe(this.getRef('checkContainer') as HTMLElement);\n  }\n\n  private removeListeners() {\n    this.ro.unobserve(this.getRef('root') as HTMLElement);\n    this.ro.unobserve(this.getRef('checkContainer') as HTMLElement);\n    (this.getRef('add') as HTMLElement).removeEventListener('click', this.addClickHandler);\n    (this.getRef('left-more') as HTMLElement).removeEventListener('click', this.showLeftHiddenTabs);\n    (this.getRef('right-more') as HTMLElement)\n      .removeEventListener('click', this.showRightHiddenTabs);\n  }\n\n  private renderTabs() {\n    const { activeTab, tabs, options: { localizations }, handlers: { close, focus } } = this;\n    const list = this.getRef('list');\n    if (list) {\n      this.tabsInfo = tabs.map(({ title }, index: number) => {\n        const tab = new Tab(list as HTMLElement, {\n          title, index, localizations, active: index === activeTab, invisible: true,\n        });\n        if (close.length) {\n          close.forEach(handler => tab.addEventListener(\n            CLOSE_EVENT_TYPE, handler as TabEventHandlerType,\n          ));\n        }\n        if (focus.length) {\n          focus.forEach(handler => tab.addEventListener(\n            CLICK_EVENT_TYPE, handler as TabEventHandlerType,\n          ));\n        }\n        tab.addEventListener(DRAG_EVENT_TYPE, this.tabDragHandler);\n        tab.addEventListener(DRAG_END_EVENT_TYPE, this.tabDragEndHandler);\n        tab.addEventListener(RENAME_EVENT_TYPE, this.renameTabHandler);\n        return { tab, isVisible: true, width: tab.width };\n      });\n    }\n  }\n\n  private observeHandler = (entries: ResizeObserverEntry[]) => {\n    const checkContainer = this.getRef('checkContainer') as HTMLElement;\n    const checkContainerEntry = entries.find(item => item.target === checkContainer);\n    if (checkContainerEntry && checkContainerEntry?.contentRect.width !== this.checkWidth) {\n      this.updateTabsInfoSizes();\n    }\n    this.closeHiddenTabsHandler();\n    this.updateListView();\n  }\n\n  private updateListView = () => {\n    this.updateVisibleListWidth();\n    const { visibleListWidth, tabsInfo } = this;\n    const width = tabsInfo.reduce((acc, item) => acc + item.width, 0);\n    if (width > visibleListWidth) {\n      this.hideTabs();\n    } else {\n      this.showTabs();\n    }\n  }\n\n  private updateVisibleListWidth() {\n    const root = this.getRef('root') as  HTMLElement;\n    const leftMore = this.getRef('left-more') as  HTMLElement;\n    const rightMore = this.getRef('right-more') as  HTMLElement;\n    const add = this.getRef('add') as  HTMLElement;\n    this.visibleListWidth = root.offsetWidth - leftMore.offsetWidth - rightMore.offsetWidth\n      - add.offsetWidth;\n  }\n\n  private hideTabs() {\n    this.updateTabsInfo();\n    const { tabsInfo } = this;\n    let shortcutIndex = 1;\n    tabsInfo.forEach((item) => {\n      if (item.isVisible) {\n        item.tab.hidden = false;\n        item.tab.invisible = false;\n        item.tab.shortcutIndex = shortcutIndex < 10 ? shortcutIndex : 0;\n        shortcutIndex += 1;\n      } else {\n        item.tab.shortcutIndex = 0;\n        item.tab.hidden = true;\n      }\n    });\n    this.updateLeftMoreView();\n    this.updateRightMoreView();\n  }\n\n  private updateTabsInfoSizes() {\n    this.tabsInfo.forEach((item) => {\n      item.width = item.tab.width;\n    });\n  }\n\n  private updateTabsInfo() {\n    const { visibleListWidth, activeTabField, tabsInfo } = this;\n    tabsInfo.forEach(item => item.isVisible = false);\n    let usedWidth = 0;\n    for (let i = activeTabField; i >= 0; i -= 1) {\n      const tabInfo = tabsInfo[i];\n      const updatedUsedWidth = usedWidth + tabInfo.width;\n      if (activeTabField !== i && updatedUsedWidth > visibleListWidth) break;\n      usedWidth = updatedUsedWidth;\n      tabInfo.isVisible = true;\n    }\n    const afterActiveTabIndex = activeTabField + 1;\n    const tabsInfoLength = tabsInfo.length;\n    if (usedWidth < visibleListWidth && afterActiveTabIndex < tabsInfoLength) {\n      for (let i = afterActiveTabIndex; i < tabsInfoLength; i += 1) {\n        const tabInfo = tabsInfo[i];\n        const updatedUsedWidth = usedWidth + tabInfo.width;\n        if (updatedUsedWidth > visibleListWidth) break;\n        usedWidth = updatedUsedWidth;\n        tabInfo.isVisible = true;\n      }\n    }\n  }\n\n  private updateLeftMoreView() {\n    const { tabsInfo } = this;\n    let leftMoreCount = 0;\n    for (let i = 0, ln = tabsInfo.length; i < ln; i += 1) {\n      const { isVisible } = tabsInfo[i];\n      if (isVisible) break;\n      else leftMoreCount += 1;\n    }\n    if (leftMoreCount) this.showLeftMore(leftMoreCount);\n    else this.hideLeftMore();\n  }\n\n  private updateRightMoreView() {\n    const { tabsInfo } = this;\n    let rightMoreCount = 0;\n    for (let i = tabsInfo.length - 1; i >= 0; i -= 1) {\n      const { isVisible } = tabsInfo[i];\n      if (isVisible) break;\n      else rightMoreCount += 1;\n    }\n\n    if (rightMoreCount) this.showRightMore(rightMoreCount);\n    else this.hideRightMore();\n  }\n\n  private showTabs() {\n    const { tabsInfo } = this;\n    this.hideLeftMore();\n    this.hideRightMore();\n    let shortcutIndex = 1;\n    tabsInfo.forEach((item) => {\n      item.isVisible = true;\n      item.tab.hidden = false;\n      item.tab.invisible = false;\n      item.tab.shortcutIndex = shortcutIndex < 10 ? shortcutIndex : 0;\n      shortcutIndex += 1;\n    });\n  }\n\n  private hideLeftMore() {\n    const leftMore = this.getRef('left-more') as HTMLElement;\n    const leftAdditional = this.getRef('leftAdditional') as HTMLElement;\n    leftMore.classList.add(css.hidden);\n    leftAdditional.classList.add(css.hidden);\n  }\n\n  private showLeftMore(count: number = 1) {\n    const leftMore = this.getRef('left-more') as HTMLElement;\n    const leftAdditional = this.getRef('leftAdditional') as HTMLElement;\n    leftMore.classList.remove(css.hidden);\n    leftAdditional.classList.remove(css.hidden);\n    if (count > 1) leftAdditional.classList.add(css.leftTwo);\n    else leftAdditional.classList.remove(css.leftTwo);\n  }\n\n  private hideRightMore() {\n    const rightMore = this.getRef('right-more') as HTMLElement;\n    const rightAdditional = this.getRef('rightAdditional') as HTMLElement;\n    rightMore.classList.add(css.hidden);\n    rightAdditional.classList.add(css.hidden);\n  }\n\n  private showRightMore(count: number = 1) {\n    const rightMore = this.getRef('right-more') as HTMLElement;\n    const rightAdditional = this.getRef('rightAdditional') as HTMLElement;\n    rightMore.classList.remove(css.hidden);\n    rightAdditional.classList.remove(css.hidden);\n    if (count > 1) rightAdditional.classList.add(css.rightTwo);\n    else rightAdditional.classList.remove(css.rightTwo);\n  }\n\n  private addClickHandler = () => {\n    this.handlers[ADD_EVENT_TYPE].forEach(handler => (handler as () => void)());\n  }\n\n  private tabDragHandler = (index: number, e: DragEvent) => {\n    const { dragInfo, tabsInfo } = this;\n    if (dragInfo) {\n      this.updateDragInfo(e);\n      this.updateTabsPosition();\n    } else {\n      tabsInfo.forEach(item => item.tab.disabledHover = true);\n      const root = this.getRef('root') as HTMLElement;\n      root.classList.add(css.draggable);\n      const { left } = (this.getRef('list') as HTMLElement).getBoundingClientRect();\n      const { clientX } = e;\n      this.dragInfo = { index, left: clientX - left, replaceIndex: index };\n    }\n  }\n\n  private tabDragEndHandler = () => {\n    const { tabsInfo, handlers, tabs } = this;\n    const root = this.getRef('root') as HTMLElement;\n    tabsInfo.forEach(item => item.tab.disabledHover = false);\n    root.classList.remove(css.draggable);\n    this.updateOrder();\n    delete this.dragInfo;\n    handlers.dragend.forEach(callback => (callback as DragEndEventHandlerType)(tabs));\n  }\n\n  private updateDragInfo(e: DragEvent) {\n    const { dragInfo } = this;\n    if (!dragInfo) return;\n    const { clientX } = e;\n    const { width: maxLeft, left } = (this.getRef('list') as HTMLElement).getBoundingClientRect();\n    const newLeft = clientX - left;\n    if (newLeft < -2) return;\n    dragInfo.left = Math.min(maxLeft, Math.max(0, newLeft));\n  }\n\n  private updateTabsPosition() {\n    const { dragInfo } = this;\n    if (!dragInfo) return;\n    const { replaceIndex } = dragInfo;\n    const dragOverIndex = this.getDragOverIndex();\n    if (dragOverIndex < 0) return;\n    if (dragOverIndex !== replaceIndex) {\n      dragInfo.replaceIndex = dragOverIndex;\n      this.updateTabsViewOrder();\n    }\n  }\n\n  private getDragOverIndex(): number {\n    const { tabsInfo, dragInfo } = this;\n    if (!dragInfo) return -1;\n    const { left } = dragInfo;\n    let index = -1;\n    let startOffset = 0;\n    for (let i = 0, ln = tabsInfo.length; i < ln; i += 1) {\n      const { width, isVisible } = tabsInfo[i];\n      if (!isVisible) continue;\n      const endOffset = startOffset + width;\n      if (left >= 0 && left < endOffset) {\n        index = i;\n        break;\n      }\n      startOffset = endOffset;\n    }\n    return index;\n  }\n\n  private updateOrder() {\n    this.updateTabsInfoOrder();\n    this.updateTabsOrder();\n  }\n\n  private updateTabsInfoOrder() {\n    const { tabsInfo, dragInfo, activeTab, tabsField } = this;\n    if (!dragInfo) return;\n    const { index, replaceIndex } = dragInfo;\n    const activeTabInfo = tabsInfo[activeTab];\n    const spliced = tabsInfo.splice(index, 1);\n    const splicedTab = tabsField.splice(index, 1);\n    if (!spliced.length) return;\n    tabsInfo.splice(replaceIndex, 0, spliced[0]);\n    tabsField.splice(replaceIndex, 0, splicedTab[0]);\n    this.activeTab = tabsInfo.indexOf(activeTabInfo) || 0;\n    dragInfo.index = replaceIndex;\n  }\n\n  private updateTabsOrder() {\n    const { tabsInfo } = this;\n    const list = this.getRef('list');\n    if (!list) return;\n    let shortcutIndex = 1;\n    tabsInfo.forEach(({ tab, isVisible }, index) => {\n      const tabRoot = tab.getRef('root') as HTMLElement;\n      list.removeChild(tabRoot);\n      tab.left = 0;\n      list.appendChild(tabRoot);\n      tab.index = index;\n      if (isVisible) {\n        tab.shortcutIndex = shortcutIndex;\n        shortcutIndex += 1;\n      } else {\n        tab.shortcutIndex = 0;\n      }\n    });\n  }\n\n  private getTabOffset(index: number): number {\n    const { tabsInfo } = this;\n    return tabsInfo.reduce((acc: number, tabInfo, i): number => {\n      if (i >= index || !tabInfo.isVisible) return acc;\n      return acc + tabInfo.width;\n    }, 0);\n  }\n\n  private updateTabsViewOrder() {\n    const { dragInfo } = this;\n    if (!dragInfo) return;\n    const { index, replaceIndex } = dragInfo;\n    if (replaceIndex <= index) {\n      this.updateLeftDraggableTabPosition();\n      this.updateLeftTabsViewOrder();\n    } else {\n      this.updateRightDraggableTabPosition();\n      this.updateRightTabsViewOrder();\n    }\n  }\n\n  private updateLeftDraggableTabPosition() {\n    const { dragInfo, tabsInfo } = this;\n    const { index, replaceIndex } = dragInfo as { index: number; replaceIndex: number };\n    const targetLeft = this.getTabOffset(index) - tabsInfo.reduce((\n      acc: number, tabInfo, i,\n    ): number => {\n      return !tabInfo.isVisible || i >= replaceIndex ? acc : acc + tabInfo.width;\n    }, 0);\n    tabsInfo[index].tab.left = -1 * targetLeft;\n  }\n\n  private updateRightDraggableTabPosition() {\n    const { dragInfo, tabsInfo } = this;\n    const { index, replaceIndex } = dragInfo as { index: number; replaceIndex: number };\n    tabsInfo[index].tab.left = tabsInfo.reduce((acc: number, tabInfo, i): number => {\n      return !tabInfo.isVisible || i < index || i > replaceIndex ? acc : acc + tabInfo.width;\n    }, 0) - tabsInfo[index].width;\n  }\n\n  private updateLeftTabsViewOrder() {\n    const { dragInfo, tabsInfo } = this;\n    const { index, replaceIndex } = dragInfo as { index: number; replaceIndex: number };\n    const offsetWidth = tabsInfo[index].width;\n    for (let i = 0, ln = tabsInfo.length; i < ln; i += 1) {\n      if (i === index) continue;\n      tabsInfo[i].tab.left = i < replaceIndex || i > index ? 0 : offsetWidth;\n    }\n  }\n\n  private updateRightTabsViewOrder() {\n    const { dragInfo, tabsInfo } = this;\n    const { index, replaceIndex } = dragInfo as { index: number; replaceIndex: number };\n    const offsetWidth = tabsInfo[index].width;\n    for (let i = 0, ln = tabsInfo.length; i < ln; i += 1) {\n      if (i === index) continue;\n      if (i > index && i <= replaceIndex) tabsInfo[i].tab.left = -1 * offsetWidth;\n      else tabsInfo[i].tab.left = 0;\n    }\n  }\n\n  private showLeftHiddenTabs = () => {\n    const { tabsInfo } = this;\n    let stop = false;\n    const leftList = tabsInfo.reduce((\n      acc: { text: string; id: number }[], item, index,\n    ): { text: string; id: number }[] => {\n      if (!item.isVisible && !stop) acc.push({ text: item.tab.title, id: index });\n      else stop = true;\n      return acc;\n    }, [] as { text: string; id: number }[]);\n    if (leftList.length) {\n      this.hiddenList = new HiddenList(this.container as HTMLElement, {\n        items: leftList, className: css.leftList, onClose: this.closeHiddenTabsHandler,\n        onSelect: this.selectHiddenTabHandler,\n      });\n    }\n  }\n\n  private showRightHiddenTabs = () => {\n    const { tabsInfo } = this;\n    let start = false;\n    const rightList = tabsInfo.reduce((\n      acc: { text: string; id: number }[], item, index,\n    ): { text: string; id: number }[] => {\n      if (item.isVisible && !start) start = true;\n      else if (start && !item.isVisible) acc.push({ text: item.tab.title, id: index });\n      return acc;\n    }, [] as { text: string; id: number }[]);\n    if (rightList.length) {\n      this.hiddenList = new HiddenList(this.container as HTMLElement, {\n        items: rightList, className: css.rightList, onClose: this.closeHiddenTabsHandler,\n        onSelect: this.selectHiddenTabHandler,\n      });\n    }\n  }\n\n  private closeHiddenTabsHandler = () => {\n    this.hiddenList?.destroy();\n    delete this.hiddenList;\n  }\n\n  private selectHiddenTabHandler = (index: number) => {\n    this.closeHiddenTabsHandler();\n    this.activeTab = index;\n  }\n\n  private renameTabHandler = (index: number, title: string) => {\n    const tabField = this.tabsField[index];\n    if (tabField) tabField.title = title;\n  }\n}\n\nexport default Tabs;\n","export const MIN_CONTENT_WINDOW_WIDTH = 50;\nexport const MIN_CONTENT_WINDOW_HEIGHT = 50;\nexport const ANCHOR_SIZE = 12;\n\nexport const LEFT_MOVE_TYPE = 'left';\nexport const RIGHT_MOVE_TYPE = 'right';\nexport const TOP_MOVE_TYPE = 'top';\nexport const BOTTOM_MOVE_TYPE = 'bottom';\n\nexport const LEFT_TOP_MOVE_TYPE = 'leftTop';\nexport const RIGHT_TOP_MOVE_TYPE = 'rightTop';\nexport const LEFT_BOTTOM_MOVE_TYPE = 'leftBottom';\nexport const RIGHT_BOTTOM_MOVE_TYPE = 'rightBottom';\n\nexport const HEADER_MOVE_TYPE = 'header';\n\nexport const MOVE_TYPES = [\n  LEFT_MOVE_TYPE, RIGHT_MOVE_TYPE, TOP_MOVE_TYPE, BOTTOM_MOVE_TYPE,\n  LEFT_TOP_MOVE_TYPE, RIGHT_TOP_MOVE_TYPE, LEFT_BOTTOM_MOVE_TYPE, RIGHT_BOTTOM_MOVE_TYPE,\n  HEADER_MOVE_TYPE,\n];\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport { IS_MAC } from '@general/utils/browser';\n\nimport ITermHeader from './ITermHeader';\nimport { OptionsType } from './types';\nimport SelectInput from '../../../../SelectInput';\nimport ISelectInput from '../../../../SelectInput/ISelectInput';\n\nclass TermHeader extends TemplateEngine implements ITermHeader {\n  public get draggableElement(): HTMLElement {\n    return this.getRef('inputContainer') as HTMLElement;\n  }\n\n  private readonly options: OptionsType;\n  private selectInput: ISelectInput;\n\n  constructor(container: HTMLElement, options: OptionsType) {\n    super(template, container);\n    this.options = options;\n    this.render();\n    this.selectInput = new SelectInput(this.getRef('inputContainer') as HTMLElement, {\n      className: css.input, value: options.title, disabled: true,\n      onSubmit: this.submitTitleHandler, onBlur: this.submitTitleHandler,\n    });\n  }\n\n  public render() {\n    super.render({ css, reverse: IS_MAC ? '' : css.reverse });\n    this.addListeners();\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.selectInput.destroy();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const { onClose } = this.options;\n    const rename = this.getRef('rename') as HTMLElement;\n    const close = this.getRef('close') as HTMLElement;\n    if (onClose) close.addEventListener('click', onClose);\n    rename.addEventListener('click', this.onRename);\n  }\n\n  private removeListeners() {\n    const { onClose } = this.options;\n    const rename = this.getRef('rename') as HTMLElement;\n    const close = this.getRef('close') as HTMLElement;\n    if (onClose) close.removeEventListener('click', onClose);\n    rename.removeEventListener('click', this.onRename);\n  }\n\n  private submitTitleHandler = () => {\n    const { options: { onRename }, selectInput } = this;\n    selectInput.disabled = true;\n    if (onRename) onRename(selectInput.value);\n  }\n\n  private onRename = () => {\n    const { selectInput } = this;\n    const { onRenaming } = this.options;\n    selectInput.disabled = false;\n    selectInput.focus();\n    selectInput.select();\n    if (onRenaming) onRenaming();\n  }\n}\n\nexport default TermHeader;\n","import css from './index.scss';\n\nimport { IKeyboardShortcutsManager, ITermInfo, Plugin } from '@term-js/term';\n\nimport ITermHeaderPlugin from './ITermHeaderPlugin';\nimport { OptionsType } from './types';\nimport ITermHeader from './TermHeader/ITermHeader';\nimport TermHeader from './TermHeader';\n\nclass TermHeaderPlugin extends Plugin implements ITermHeaderPlugin {\n  private termHeader?: ITermHeader;\n  private options: OptionsType;\n\n  constructor(options: OptionsType) {\n    super();\n    this.options = options;\n  }\n\n  public setTermInfo(termInfo: ITermInfo, keyboardShortcutsManager: IKeyboardShortcutsManager) {\n    super.setTermInfo(termInfo, keyboardShortcutsManager);\n    const { title } = termInfo.elements;\n    if (title) {\n      this.addTermHeader();\n      this.addListeners();\n    }\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.termHeader?.destroy();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const { termHeader, options: { onStartMove } } = this;\n    const draggableElement = termHeader?.draggableElement;\n    if (!draggableElement || !onStartMove) return;\n    draggableElement.addEventListener('mousedown', onStartMove);\n  }\n\n  private removeListeners() {\n    const { termHeader, options: { onStartMove } } = this;\n    const draggableElement = termHeader?.draggableElement;\n    if (!draggableElement || !onStartMove) return;\n    draggableElement.removeEventListener('mousedown', onStartMove);\n  }\n\n  private addTermHeader() {\n    const { termInfo, options: { onClose } } = this;\n    if (!termInfo) return;\n    const title = (termInfo as ITermInfo).elements.title as HTMLElement;\n    const titleText = termInfo.title;\n    title.classList.add(css.header);\n    this.termHeader = new TermHeader(title, {\n      onClose, title: titleText, onRenaming: this.onStartRenaming, onRename: this.onRename,\n    });\n    this.termHeader.draggableElement.setAttribute('data-type', 'header');\n  }\n\n  private onStartRenaming = () => {\n    const { termInfo } = this;\n    if (!termInfo) return;\n    const title = (termInfo as ITermInfo).elements.title as HTMLElement;\n    title.classList.add(css.editable);\n  }\n\n  private onRename = (name: string) => {\n    const { termInfo, options: { onRename } } = this;\n    if (!termInfo) return;\n    const title = (termInfo as ITermInfo).elements.title as HTMLElement;\n    title.classList.remove(css.editable);\n    if (onRename) onRename(name);\n  }\n}\n\nexport default TermHeaderPlugin;\n","export default {\n  untitledTab: 'Untitled',\n  untitledTerm: 'Untitled',\n  tabConfirmationModalSubmit: 'Close',\n  tabConfirmationModalCancel: 'Cancel',\n  tabConfirmationModalTitle: 'Close tab',\n  tabConfirmationModalText: 'Are you sure you want to close tab <span>\"{name}\"</span>?',\n  termConfirmationModalSubmit: 'Close',\n  termConfirmationModalCancel: 'Cancel',\n  termConfirmationModalTitle: 'Close terminal',\n  termConfirmationModalText: 'Are you sure you want to close terminal <span>\"{name}\"</span>?',\n};\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine, Term, ITerm } from '@term-js/term';\nimport '@term-js/term/dist/index.css';\n\nimport { MoveType, OptionsType } from './types';\nimport IContentWindow from './IContentWindow';\nimport { MOVE_TYPES } from '../constants';\nimport TermHeaderPlugin from './TermHeaderPlugin';\nimport ITermHeaderPlugin from './TermHeaderPlugin/ITermHeaderPlugin';\nimport strings from '@TerminalsOrchestrator/strings';\n\nclass ContentWindow extends TemplateEngine implements IContentWindow {\n  public get title(): string {\n    return this.term.header;\n  }\n\n  private isDisabled: boolean = false;\n  public get disabled(): boolean {\n    return this.isDisabled;\n  }\n  public set disabled(val: boolean) {\n    const { isDisabled, term } = this;\n    if (isDisabled === val) return;\n    this.isDisabled = val;\n    if (val) term.blur();\n    term.disabled = val;\n  }\n\n  private zIndexField: number = 0;\n  public get zIndex(): number {\n    return this.zIndexField;\n  }\n  public set zIndex(val: number) {\n    const { zIndexField } = this;\n    this.zIndexField = val;\n    if (zIndexField !== val) {\n      const root = this.getRef('root') as HTMLElement;\n      root.style.setProperty('--z-index', String(val));\n      this.term.keyboardShortcutsManager.layer = val;\n    }\n  }\n\n  private lockSelectionField: boolean = false;\n  public get lockSelection(): boolean {\n    return this.lockSelectionField;\n  }\n  public set lockSelection(val: boolean) {\n    const { lockSelectionField } = this;\n    this.lockSelectionField = val;\n    const root = this.getRef('root') as HTMLElement;\n    if (!root || lockSelectionField === val) return;\n    if (val) root.classList.add(css.lockSelection);\n    else root.classList.remove(css.lockSelection);\n  }\n\n  public get position(): { left: number; right: number; top: number; bottom: number } {\n    const { left, right, top, bottom } = this.options.position;\n    return { left, right, top, bottom };\n  }\n\n  public set position(val: { left: number; right: number; top: number; bottom: number }) {\n    const { left, right, top, bottom } = val;\n    const { position } = this.options;\n    this.options.position = { left, right, top, bottom };\n    const root = this.getRef('root') as HTMLElement;\n    if (position.left !== left) root.style.left = `${left}%`;\n    if (position.right !== right) root.style.right = `${right}%`;\n    if (position.top !== top) root.style.top = `${top}%`;\n    if (position.bottom !== bottom) root.style.bottom = `${bottom}%`;\n  }\n\n  private get dragElements(): {\n    leftTop: HTMLElement;\n    rightTop: HTMLElement;\n    leftBottom: HTMLElement;\n    rightBottom: HTMLElement;\n    left: HTMLElement;\n    right: HTMLElement;\n    top: HTMLElement;\n    bottom: HTMLElement;\n  } {\n    return {\n      leftTop: this.getRef('leftTop') as HTMLElement,\n      rightTop: this.getRef('rightTop') as HTMLElement,\n      leftBottom: this.getRef('leftBottom') as HTMLElement,\n      rightBottom: this.getRef('rightBottom') as HTMLElement,\n      left: this.getRef('left') as HTMLElement,\n      right: this.getRef('right') as HTMLElement,\n      top: this.getRef('top') as HTMLElement,\n      bottom: this.getRef('bottom') as HTMLElement,\n    };\n  }\n\n  private readonly options: OptionsType;\n  private readonly termHeaderPlugin: ITermHeaderPlugin;\n  private term: ITerm;\n  private moveType?: MoveType;\n\n  constructor(container: HTMLElement, options: OptionsType) {\n    super(template, container);\n    this.options = options;\n    this.zIndexField = options.zIndex || 0;\n    this.render();\n    this.term = new Term(this.getRef('content') as HTMLElement, {\n      lines: [],\n      header: options.title || strings.untitledTerm,\n    });\n    this.term.keyboardShortcutsManager.layer = this.zIndexField;\n    this.termHeaderPlugin = new TermHeaderPlugin({\n      onStartMove: this.onMouseDown, onRename: this.onRename, onClose: this.onClose,\n    });\n    this.term.pluginManager.register(this.termHeaderPlugin);\n    this.addListeners();\n  }\n\n  public render() {\n    super.render({ css, ...this.options.position, zIndex: this.zIndex });\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.term.destroy();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const {\n      leftTop, rightTop, leftBottom, rightBottom, left, right, top, bottom,\n    } = this.dragElements;\n    const root = this.getRef('root') as HTMLElement;\n\n    leftTop.addEventListener('mousedown', this.onMouseDown);\n    rightTop.addEventListener('mousedown', this.onMouseDown);\n    leftBottom.addEventListener('mousedown', this.onMouseDown);\n    rightBottom.addEventListener('mousedown', this.onMouseDown);\n\n    left.addEventListener('mousedown', this.onMouseDown);\n    right.addEventListener('mousedown', this.onMouseDown);\n    top.addEventListener('mousedown', this.onMouseDown);\n    bottom.addEventListener('mousedown', this.onMouseDown);\n\n    root.addEventListener('focus', this.onFocus);\n    this.term.addEventListener('focus', this.onFocus);\n\n    window.addEventListener('mouseup', this.onEndMove);\n    window.addEventListener('mouseleave', this.onEndMove);\n    window.addEventListener('mousemove', this.onMove);\n  }\n\n  private removeListeners() {\n    const {\n      leftTop, rightTop, leftBottom, rightBottom, left, right, top, bottom,\n    } = this.dragElements;\n    const root = this.getRef('root') as HTMLElement;\n\n    leftTop.removeEventListener('mousedown', this.onMouseDown);\n    rightTop.removeEventListener('mousedown', this.onMouseDown);\n    leftBottom.removeEventListener('mousedown', this.onMouseDown);\n    rightBottom.removeEventListener('mousedown', this.onMouseDown);\n\n    left.removeEventListener('mousedown', this.onMouseDown);\n    right.removeEventListener('mousedown', this.onMouseDown);\n    top.removeEventListener('mousedown', this.onMouseDown);\n    bottom.removeEventListener('mousedown', this.onMouseDown);\n\n    root.removeEventListener('focus', this.onFocus);\n    this.term.removeEventListener('focus', this.onFocus);\n\n    window.removeEventListener('mouseup', this.onEndMove);\n    window.removeEventListener('mouseleave', this.onEndMove);\n    window.removeEventListener('mousemove', this.onMove);\n  }\n\n  private onMouseDown = (e: MouseEvent) => {\n    const { onStartMove } = this.options;\n    const { target } = e;\n    if (!target || !onStartMove) return;\n    const dataType = (target as HTMLElement).getAttribute('data-type');\n    if (dataType && MOVE_TYPES.includes(dataType)) {\n      this.moveType = dataType as MoveType;\n      onStartMove(dataType as MoveType, this, e);\n    }\n  }\n\n  private onEndMove = (e: MouseEvent) => {\n    const { moveType, options: { onEndMove } } = this;\n    if (!moveType) return;\n    delete this.moveType;\n    if (onEndMove) onEndMove(moveType, this, e);\n  }\n\n  private onMove = (e: MouseEvent) => {\n    const { moveType, options: { onMove } } = this;\n    if (moveType && onMove) onMove(moveType, this, e);\n  }\n\n  private onFocus = (e: Event) => {\n    const { onFocus } = this.options;\n    if (onFocus) onFocus(this, e);\n  }\n\n  private onRename = (name: string) => {\n    this.term.header = name;\n  }\n\n  private onClose = () => {\n    const { options: { onClose } } = this;\n    if (onClose) onClose(this);\n  }\n}\n\nexport default ContentWindow;\n","export const getKeyCode = (e: KeyboardEvent): number | null => e ? e.which || e.keyCode : null;\nexport const stopPropagation = (e: Event) => e.stopPropagation();\nexport const preventDefault = (e: Event) => e.preventDefault();\nexport const preventContextMenu = (e: MouseEvent): boolean => {\n  if (e.shiftKey) return false;\n  preventDefault(e);\n  return true;\n};\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport { ENTER_KEY_CODE, ESC_KEY_CODE } from '@general/constants/keyCodes';\nimport { stopPropagation } from '@general/utils/event';\nimport { Emitter, EMITTER_TOP_LAYER_TYPE } from 'key-layers-js';\nimport IConfirmationModal from './IConfirmationModal';\nimport { OptionsType } from './types';\n\nclass ConfirmationModal extends TemplateEngine implements IConfirmationModal {\n  private readonly options: OptionsType;\n  private readonly emitter: Emitter;\n\n  constructor(container: HTMLElement, options: OptionsType) {\n    super(template, container);\n    this.options = options;\n    this.render();\n    this.emitter = new Emitter(EMITTER_TOP_LAYER_TYPE);\n    this.addListeners();\n  }\n\n  public render() {\n    const { title, text, submit, cancel, onSubmit, onCancel } = this.options;\n    super.render({\n      css, title, text, submit: onSubmit ? submit : '', cancel: onCancel ? cancel : '',\n    });\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.emitter.destroy();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const { emitter, options: { onSubmit, onCancel } } = this;\n    const root = this.getRef('root') as HTMLElement;\n    root.addEventListener('click', stopPropagation);\n    if (onSubmit) {\n      const submit = this.getRef('submit');\n      if (submit) submit.addEventListener('click', onSubmit);\n      emitter.addListener('keyDown', onSubmit, { code: ENTER_KEY_CODE });\n    }\n    if (onCancel) {\n      const cancel = this.getRef('cancel');\n      const overlay = this.getRef('overlay') as HTMLElement;\n      overlay.addEventListener('click', onCancel);\n      if (cancel) cancel.addEventListener('click', onCancel);\n      emitter.addListener('keyDown', onCancel, { code: ESC_KEY_CODE });\n    }\n  }\n\n  private removeListeners() {\n    const { emitter, options: { onSubmit, onCancel } } = this;\n    if (onSubmit) {\n      const submit = this.getRef('submit');\n      if (submit) submit.removeEventListener('click', onSubmit);\n      emitter.removeListener('keyDown', onSubmit);\n    }\n    if (onCancel) {\n      const cancel = this.getRef('cancel');\n      const overlay = this.getRef('overlay') as HTMLElement;\n      overlay.removeEventListener('click', onCancel);\n      if (cancel) cancel.removeEventListener('click', onCancel);\n      emitter.removeListener('keyDown', onCancel);\n    }\n  }\n}\n\nexport default ConfirmationModal;\n","import { uniq } from 'lodash-es';\n\nimport template from './template.html';\nimport css from './index.scss';\n\nimport { TemplateEngine } from '@term-js/term';\nimport { MoveInfoType, OptionsType, AnchorPointType } from '@TerminalsOrchestrator/Workspace/Content/types';\nimport ContentWindow from '@TerminalsOrchestrator/Workspace/Content/ContentWindow';\nimport IContentWindow from '@TerminalsOrchestrator/Workspace/Content/ContentWindow/IContentWindow';\nimport { MoveType } from '@TerminalsOrchestrator/Workspace/Content/ContentWindow/types';\nimport IContent from '@TerminalsOrchestrator/Workspace/Content/IContent';\nimport ConfirmationModal from '@TerminalsOrchestrator/Workspace/ConfirmationModal';\nimport IConfirmationModal from '@TerminalsOrchestrator/Workspace/ConfirmationModal/IConfirmationModal';\nimport {\n  ANCHOR_SIZE,\n  BOTTOM_MOVE_TYPE, HEADER_MOVE_TYPE,\n  LEFT_BOTTOM_MOVE_TYPE,\n  LEFT_MOVE_TYPE,\n  LEFT_TOP_MOVE_TYPE,\n  MIN_CONTENT_WINDOW_HEIGHT,\n  MIN_CONTENT_WINDOW_WIDTH,\n  RIGHT_BOTTOM_MOVE_TYPE,\n  RIGHT_MOVE_TYPE,\n  RIGHT_TOP_MOVE_TYPE,\n  TOP_MOVE_TYPE,\n} from '@TerminalsOrchestrator/Workspace/Content/constants';\nimport { IS_MAC } from '@general/utils/browser';\nimport strings from '@TerminalsOrchestrator/strings';\nimport { safeTemplate } from '@general/utils/string';\n\nclass Content extends TemplateEngine implements IContent {\n  public readonly id: number;\n\n  private isDisabled: boolean = false;\n  public get disabled(): boolean {\n    return this.isDisabled;\n  }\n  public set disabled(val: boolean) {\n    const { isDisabled, contentWindows } = this;\n    if (isDisabled === val) return;\n    this.isDisabled = val;\n    contentWindows.forEach(cn => cn.disabled = val);\n  }\n\n  private hiddenField: boolean = false;\n  public get hidden(): boolean {\n    return this.hiddenField;\n  }\n  public set hidden(val: boolean) {\n    const { hiddenField } = this;\n    this.hiddenField = val;\n    if (hiddenField === val) return;\n    if (val) (this.getRef('root') as HTMLElement).classList.add(css.hidden);\n    else (this.getRef('root') as HTMLElement).classList.remove(css.hidden);\n  }\n\n  private readonly options: OptionsType;\n  private contentWindows: IContentWindow[] = [];\n  private moveInfo?: MoveInfoType;\n\n  private get relativeAnchorSize(): number {\n    const root = this.getRef('root') as HTMLElement;\n    const { offsetWidth } = root;\n    return ANCHOR_SIZE / offsetWidth * 100;\n  }\n\n  private get nextZIndex(): number {\n    const { contentWindows } = this;\n    return contentWindows.length\n      ? contentWindows.sort((f, s) => s.zIndex - f.zIndex)[0].zIndex + 1\n      : 0;\n  }\n  private cm?: IConfirmationModal;\n\n  constructor(container: HTMLElement, options: OptionsType = { id: -1 }) {\n    super(template, container);\n    this.options = options;\n    this.id = options.id;\n    this.hiddenField = options.hidden || false;\n    this.render();\n  }\n\n  public addContentWindow = () => {\n    const cn = new ContentWindow(this.getRef('contentContainer') as HTMLElement, {\n      position: { left: 20, right: 20, top: 20, bottom: 20 },\n      onStartMove: this.onStartMove,\n      onEndMove: this.onEndMove,\n      onMove: this.onMove,\n      onFocus: this.onFocus,\n      onClose: this.onClose,\n      title: this.options?.localization?.untitledTerm,\n      zIndex: this.nextZIndex,\n    });\n    this.contentWindows.push(cn);\n    this.onFocus(cn);\n    return cn;\n  }\n\n  public render() {\n    const { className = '', hidden } = this.options;\n    super.render({ css, className, hidden: hidden ? css.hidden : '' });\n    const addWindowShortcutText = this.getRef('addWindowShortcutText') as HTMLElement;\n    addWindowShortcutText.innerHTML = IS_MAC ? 'âŒ˜E' : 'ctrl E';\n    this.addListeners();\n  }\n\n  public destroy() {\n    this.removeListeners();\n    this.cm?.destroy();\n    super.destroy();\n  }\n\n  private addListeners() {\n    const addWindowButton = this.getRef('addWindowButton') as HTMLElement;\n    addWindowButton.addEventListener('click', this.addContentWindow);\n  }\n\n  private removeListeners() {\n    const addWindowButton = this.getRef('addWindowButton') as HTMLElement;\n    addWindowButton.removeEventListener('click', this.addContentWindow);\n  }\n\n  private onStartMove = (type: MoveType, contentWindow: IContentWindow, e: MouseEvent) => {\n    this.moveInfo = {\n      type, contentWindow, startPosition: { left: e.clientX, top: e.clientY },\n      startOffsets: contentWindow.position,\n    };\n    contentWindow.lockSelection = true;\n    this.updateGlobalCursor();\n  }\n\n  private onEndMove = () => {\n    const { moveInfo } = this;\n    if (moveInfo) moveInfo.contentWindow.lockSelection = false;\n    this.removeGlobalCursor();\n    delete this.moveInfo;\n  }\n\n  private onMove = (type: MoveType, contentWindow: IContentWindow, e: MouseEvent) => {\n    const { moveInfo } = this;\n    if (!moveInfo) return;\n    if ([LEFT_MOVE_TYPE, LEFT_BOTTOM_MOVE_TYPE, LEFT_TOP_MOVE_TYPE].includes(type)) {\n      this.onLeftSideMove(e);\n    }\n    if ([RIGHT_MOVE_TYPE, RIGHT_BOTTOM_MOVE_TYPE, RIGHT_TOP_MOVE_TYPE].includes(type)) {\n      this.onRightSideMove(e);\n    }\n    if ([TOP_MOVE_TYPE, LEFT_TOP_MOVE_TYPE, RIGHT_TOP_MOVE_TYPE].includes(type)) {\n      this.onTopSideMove(e);\n    }\n    if ([BOTTOM_MOVE_TYPE, LEFT_BOTTOM_MOVE_TYPE, RIGHT_BOTTOM_MOVE_TYPE].includes(type)) {\n      this.onBottomSideMove(e);\n    }\n\n    if (HEADER_MOVE_TYPE === type) this.onWindowMove(e);\n  }\n\n  private onFocus = (contentWindow: IContentWindow) => {\n    const sortedWindows = this.contentWindows.sort((f, s) => f.zIndex - s.zIndex);\n    const zIndexMax = sortedWindows.length - 1;\n    contentWindow.zIndex = zIndexMax;\n    let isUpdating = false;\n    sortedWindows.forEach((item) => {\n      if (isUpdating) item.zIndex -= 1;\n      if (item === contentWindow) isUpdating = true;\n    });\n  }\n\n  private onClose = (contentWindow: IContentWindow) => {\n    const { contentWindows, options: { localization } } = this;\n    const index = contentWindows.indexOf(contentWindow);\n    if (index < 0 || this.disabled) return;\n    this.disabled = true;\n    this.cm = new ConfirmationModal(this.getRef('root') as HTMLElement, {\n      submit: localization?.termConfirmationModalSubmit || strings.termConfirmationModalSubmit,\n      cancel: localization?.termConfirmationModalCancel || strings.termConfirmationModalCancel,\n      title: localization?.termConfirmationModalTitle || strings.termConfirmationModalTitle,\n      text: safeTemplate(\n        localization?.termConfirmationModalText || strings.termConfirmationModalText,\n        { name: contentWindows[index]?.title || '' },\n      ),\n      onCancel: () => {\n        this.cm?.destroy();\n        this.disabled = false;\n      },\n      onSubmit: () => {\n        this.cm?.destroy();\n        this.disabled = false;\n        contentWindows.splice(index, 1);\n        contentWindow.destroy();\n      },\n    });\n  }\n\n  private updateGlobalCursor() {\n    const { type } = this.moveInfo as MoveInfoType;\n    const root = this.getRef('root') as HTMLElement;\n    if ([LEFT_MOVE_TYPE, RIGHT_MOVE_TYPE].includes(type)) root.classList.add(css.horizontalResize);\n    if ([TOP_MOVE_TYPE, BOTTOM_MOVE_TYPE].includes(type)) root.classList.add(css.verticalResize);\n    if ([LEFT_BOTTOM_MOVE_TYPE, RIGHT_TOP_MOVE_TYPE].includes(type)) {\n      root.classList.add(css.leftBottomResize);\n    }\n    if ([RIGHT_BOTTOM_MOVE_TYPE, LEFT_TOP_MOVE_TYPE].includes(type)) {\n      root.classList.add(css.rightBottomResize);\n    }\n  }\n\n  private removeGlobalCursor() {\n    const root = this.getRef('root') as HTMLElement;\n    root.classList.remove(css.horizontalResize);\n    root.classList.remove(css.verticalResize);\n    root.classList.remove(css.leftBottomResize);\n    root.classList.remove(css.rightBottomResize);\n  }\n\n  private getFilteredContentWindows(skip: IContentWindow): IContentWindow[] {\n    const { contentWindows } = this;\n    return contentWindows.filter(item => item !== skip);\n  }\n\n  private getHorizontalAnchorPoints(contentWindow: IContentWindow): AnchorPointType[] {\n    const { relativeAnchorSize } = this;\n    return uniq(this.getFilteredContentWindows(contentWindow).reduce((\n      acc: number[], item: IContentWindow,\n    ): number[] => {\n      const { left, right } = item.position;\n      acc.push(left);\n      acc.push(100 - right);\n      return acc;\n    }, [] as number[])).filter((item: number): boolean => 0 !== item && 100 !== item).sort((\n      first, second,\n    ): number => {\n      return first - second;\n    }).reduce((\n      acc: AnchorPointType[], position: number, index: number, arr: number[],\n    ): AnchorPointType[] => {\n      const prevPosition = arr[index - 1] || -1;\n      const nextPosition = arr[index + 1] || -1;\n      if (position <= 0) return acc;\n      acc.push({\n        position,\n        startOffset: prevPosition >= 0 ? Math.min(relativeAnchorSize, (position - prevPosition) / 2)\n          : relativeAnchorSize,\n        endOffset: nextPosition >= 0 ? Math.min(relativeAnchorSize, (position + nextPosition) / 2)\n          : relativeAnchorSize,\n      });\n      return acc;\n    }, [] as AnchorPointType[]);\n  }\n\n  private getVerticalAnchorPoints(contentWindow: IContentWindow): AnchorPointType[] {\n    const { relativeAnchorSize } = this;\n    return uniq(this.getFilteredContentWindows(contentWindow).reduce((\n      acc: number[], item: IContentWindow,\n    ): number[] => {\n      const { top, bottom } = item.position;\n      acc.push(top);\n      acc.push(100 - bottom);\n      return acc;\n    }, [] as number[])).filter((item: number): boolean => 0 !== item && 100 !== item).sort((\n      first, second,\n    ): number => {\n      return first - second;\n    }).reduce((\n      acc: AnchorPointType[], position: number, index: number, arr: number[],\n    ): AnchorPointType[] => {\n      const prevPosition = arr[index - 1] || -1;\n      const nextPosition = arr[index + 1] || -1;\n      if (position <= 0) return acc;\n      acc.push({\n        position,\n        startOffset: prevPosition >= 0 ? Math.min(relativeAnchorSize, (position - prevPosition) / 2)\n          : relativeAnchorSize,\n        endOffset: nextPosition >= 0 ? Math.min(relativeAnchorSize, (position + nextPosition) / 2)\n          : relativeAnchorSize,\n      });\n      return acc;\n    }, [] as AnchorPointType[]);\n  }\n\n  private onLeftSideMove(e: MouseEvent) {\n    const {\n      contentWindow, startPosition, startOffsets: { left, right },\n    } = this.moveInfo as MoveInfoType;\n    const horizontalAnchorPoints = this.getHorizontalAnchorPoints(contentWindow);\n    const root = this.getRef('root') as HTMLElement;\n    const rootWidth = root.offsetWidth;\n    const offset = e.clientX - startPosition.left;\n    const relativeOffset = offset / rootWidth * 100;\n    let newLeft = left + relativeOffset;\n    horizontalAnchorPoints.some((item: AnchorPointType): boolean => {\n      const { startOffset, position, endOffset } = item;\n      const anchorMin = position - startOffset;\n      const anchorMax = position + endOffset;\n      if (newLeft < anchorMin || newLeft > anchorMax) return false;\n      newLeft = position;\n      return true;\n    });\n    const maxLeft = Math.max(100 - right - MIN_CONTENT_WINDOW_WIDTH / rootWidth * 100, 0);\n    contentWindow.position = {\n      ...contentWindow.position, left: Math.max(0, Math.min(newLeft, maxLeft)),\n    };\n  }\n\n  private onRightSideMove(e: MouseEvent) {\n    const {\n      contentWindow, startPosition, startOffsets: { left, right },\n    } = this.moveInfo as MoveInfoType;\n    const horizontalAnchorPoints = this.getHorizontalAnchorPoints(contentWindow);\n    const root = this.getRef('root') as HTMLElement;\n    const rootWidth = root.offsetWidth;\n    const offset = e.clientX - startPosition.left;\n    const relativeOffset = offset / rootWidth * 100;\n    let newRight = right - relativeOffset;\n    horizontalAnchorPoints.some((item: AnchorPointType): boolean => {\n      const { startOffset, position, endOffset } = item;\n      const rightPosition = 100 - position;\n      const anchorMin = rightPosition - endOffset;\n      const anchorMax = 100 - position + startOffset;\n      if (newRight < anchorMin || newRight > anchorMax) return false;\n      newRight = rightPosition;\n      return true;\n    });\n    const maxRight = Math.max(100 - left - MIN_CONTENT_WINDOW_WIDTH / rootWidth * 100, 0);\n    contentWindow.position = {\n      ...contentWindow.position, right: Math.max(0, Math.min(newRight, maxRight)),\n    };\n  }\n\n  private onTopSideMove(e: MouseEvent) {\n    const {\n      contentWindow, startPosition, startOffsets: { top, bottom },\n    } = this.moveInfo as MoveInfoType;\n    const verticalAnchorPoints = this.getVerticalAnchorPoints(contentWindow);\n    const root = this.getRef('root') as HTMLElement;\n    const rootHeight = root.offsetHeight;\n    const offset = e.clientY - startPosition.top;\n    const relativeOffset = offset / rootHeight * 100;\n    let newTop = top + relativeOffset;\n    verticalAnchorPoints.some((item: AnchorPointType): boolean => {\n      const { startOffset, position, endOffset } = item;\n      const anchorMin = position - startOffset;\n      const anchorMax = position + endOffset;\n      if (newTop < anchorMin || newTop > anchorMax) return false;\n      newTop = position;\n      return true;\n    });\n    const maxTop = Math.max(100 - bottom - MIN_CONTENT_WINDOW_HEIGHT / rootHeight * 100, 0);\n    contentWindow.position = {\n      ...contentWindow.position, top: Math.max(0, Math.min(newTop, maxTop)),\n    };\n  }\n\n  private onBottomSideMove(e: MouseEvent) {\n    const {\n      contentWindow, startPosition, startOffsets: { top, bottom },\n    } = this.moveInfo as MoveInfoType;\n    const verticalAnchorPoints = this.getVerticalAnchorPoints(contentWindow);\n    const root = this.getRef('root') as HTMLElement;\n    const rootHeight = root.offsetHeight;\n    const offset = e.clientY - startPosition.top;\n    const relativeOffset = offset / rootHeight * 100;\n    let newBottom = bottom - relativeOffset;\n    verticalAnchorPoints.some((item: AnchorPointType): boolean => {\n      const { startOffset, position, endOffset } = item;\n      const bottomPosition = 100 - position;\n      const anchorMin = bottomPosition - endOffset;\n      const anchorMax = 100 - position + startOffset;\n      if (newBottom < anchorMin || newBottom > anchorMax) return false;\n      newBottom = bottomPosition;\n      return true;\n    });\n    const maxBottom = Math.max(100 - top - MIN_CONTENT_WINDOW_HEIGHT / rootHeight * 100, 0);\n    contentWindow.position = {\n      ...contentWindow.position, bottom: Math.max(0, Math.min(newBottom, maxBottom)),\n    };\n  }\n\n  private onWindowMove(e: MouseEvent) {\n    const {\n      contentWindow, startPosition, startOffsets: { left, right, top, bottom },\n    } = this.moveInfo as MoveInfoType;\n    const root = this.getRef('root') as HTMLElement;\n    const verticalOffset = e.clientY - startPosition.top;\n    const horizontalOffset = e.clientX - startPosition.left;\n    const { offsetHeight: rootHeight, offsetWidth: rootWidth } = root;\n    const relativeVerticalOffset = verticalOffset / rootHeight * 100;\n    const relativeHorizontalOffset = horizontalOffset / rootWidth * 100;\n    const relativeWidth = 100 - left - right;\n    const relativeHeight = 100 - top - bottom;\n\n    let newLeft = Math.max(left + relativeHorizontalOffset, 0);\n    let newRight = 100 - relativeWidth - newLeft;\n    let newTop = Math.max(top + relativeVerticalOffset, 0);\n    let newBottom = 100 - relativeHeight - newTop;\n    if (newRight < 0) {\n      newRight = 0;\n      newLeft = 100 - relativeWidth;\n    }\n    if (newBottom < 0) {\n      newBottom = 0;\n      newTop = 100 - relativeHeight;\n    }\n    contentWindow.position = { left: newLeft, right: newRight, top: newTop, bottom: newBottom };\n  }\n}\n\nexport default Content;\n","import template from './template.html';\nimport css from './index.scss';\n\nimport { Emitter, EMITTER_FORCE_LAYER_TYPE } from 'key-layers-js';\nimport { TemplateEngine } from '@term-js/term';\n\nimport { IWorkspace } from '@TerminalsOrchestrator/Workspace/IWorkspace';\nimport ITabs from '@TerminalsOrchestrator/Workspace/Tabs/ITabs';\nimport Tabs from '@TerminalsOrchestrator/Workspace/Tabs';\nimport IContent from '@TerminalsOrchestrator/Workspace/Content/IContent';\nimport Content from '@TerminalsOrchestrator/Workspace/Content';\nimport ConfirmationModal from '@TerminalsOrchestrator/Workspace/ConfirmationModal';\nimport IConfirmationModal from '@TerminalsOrchestrator/Workspace/ConfirmationModal/IConfirmationModal';\nimport { E_KEY_CODE } from '@general/constants/keyCodes';\nimport { IS_MAC } from '@general/utils/browser';\nimport { TabInfoType } from '@TerminalsOrchestrator/Workspace/Tabs/types';\nimport { OptionsType } from '@TerminalsOrchestrator/Workspace/types';\nimport strings from '@TerminalsOrchestrator/strings';\nimport { safeTemplate } from '@general/utils/string';\n\nclass Workspace extends TemplateEngine implements IWorkspace {\n  public set tabs(val: (string | TabInfoType)[]) {\n    const { tabsView } = this;\n    tabsView.tabs = val.map((item: string | TabInfoType): TabInfoType => {\n      if (typeof item === 'string') {\n        const tabInfo = { title: item, id: this.nextTabId };\n        this.nextTabId += 1;\n        this.addContentWindow(tabInfo.id);\n        return tabInfo;\n      }\n      return  item;\n    });\n    this.focusTabHandler(tabsView.activeTab);\n  }\n\n  public get tabs(): (string | TabInfoType)[] {\n    return this.tabsView.tabs;\n  }\n\n  public set activeTab(val: number) {\n    this.tabsView.activeTab = val;\n  }\n\n  public get activeTab(): number {\n    return this.tabsView.activeTab;\n  }\n\n  private cm?: IConfirmationModal;\n  private nextTabId: number = 1;\n  private options: OptionsType;\n  private readonly tabsView: ITabs;\n  private readonly contentList: IContent[] = [];\n  private readonly emitter: Emitter = new Emitter(EMITTER_FORCE_LAYER_TYPE);\n  private get activeContent(): IContent | null {\n    const { activeTab } = this.tabsView;\n    return this.getTabContent(activeTab);\n  }\n  private getTabContent(index: number): IContent | null {\n    const tabInfo = this.tabsView.tabs[index];\n    if (!tabInfo) return null;\n    const { id } = tabInfo;\n    return this.contentList.find(item => item.id === id) || null;\n  }\n\n  constructor(container: HTMLElement, options: OptionsType = {}) {\n    super(template, container);\n    this.options = options;\n    this.render();\n    const tabsView = new Tabs(this.getRef('tabs') as HTMLElement);\n    tabsView.addEventListener('focus', this.focusTabHandler);\n    tabsView.addEventListener('close', this.closeTabHandler);\n    tabsView.addEventListener('add', this.addTabHandler);\n    this.emitter.addListener('keyDown', this.addTabHandler, { code: E_KEY_CODE, altKey: true });\n    this.emitter.addListener('keyDown', this.newContentWindowHandler, {\n      code: E_KEY_CODE, ...(IS_MAC ? { metaKey: true } : { ctrlKey: true }),\n    });\n    this.tabsView = tabsView;\n  }\n\n  public render() {\n    super.render({ css });\n  }\n\n  public destroy() {\n    const { tabsView, contentList, emitter, cm } = this;\n    emitter.removeListener('keyDown', this.newContentWindowHandler);\n    emitter.removeListener('keyDown', this.addTabHandler);\n    emitter.destroy();\n    contentList.forEach(item => item.destroy());\n    tabsView.destroy();\n    cm?.destroy();\n    super.destroy();\n  }\n\n  private addContentWindow(id: number, hidden: boolean = true) {\n    const { contentList, options } = this;\n    contentList.push(new Content(this.getRef('content') as HTMLElement, {\n      id, hidden, className: css.contentItem, localization: options.localization,\n    }));\n  }\n\n  private newContentWindowHandler = (e: KeyboardEvent) => {\n    const { activeContent } = this;\n    e.preventDefault();\n    if (activeContent) {\n      activeContent.addContentWindow();\n    }\n  }\n\n  private focusTabHandler = (index: number) => {\n    const content = this.getTabContent(index);\n    if (content) {\n      this.tabsView.activeTab = index;\n      this.contentList.forEach((item) => {\n        item.hidden = item !== content;\n      });\n    }\n  }\n\n  private closeTabHandler = (index: number) => {\n    const { tabsView, contentList, options: { localization } } = this;\n    contentList.forEach(c => c.disabled = true);\n\n    this.cm  = new ConfirmationModal(this.getRef('root') as HTMLElement, {\n      submit: localization?.tabConfirmationModalSubmit || strings.tabConfirmationModalSubmit,\n      cancel: localization?.tabConfirmationModalCancel || strings.tabConfirmationModalCancel,\n      title: localization?.tabConfirmationModalTitle || strings.tabConfirmationModalTitle,\n      text: safeTemplate(\n        localization?.tabConfirmationModalText || strings.tabConfirmationModalText,\n        { name: tabsView.tabs[index].title },\n      ),\n      onCancel: () => {\n        this.cm?.destroy();\n        contentList.forEach(c => c.disabled = false);\n      },\n      onSubmit: () => {\n        this.cm?.destroy();\n        contentList.forEach(c => c.disabled = false);\n        const content = this.getTabContent(index);\n        const activeTab = tabsView.activeTab;\n        let newActiveTab = index === activeTab ? Math.max(0, activeTab - 1) : activeTab;\n        if (activeTab > index) newActiveTab = activeTab - 1;\n        tabsView.tabs = this.tabsView.tabs.filter((_, i) => i !== index);\n        if (content) {\n          const contentIndex = contentList.indexOf(content);\n          content.destroy();\n          if (contentIndex >= 0) contentList.splice(contentIndex, 1);\n        }\n        this.focusTabHandler(newActiveTab);\n      },\n    });\n  }\n\n  private addTabHandler = () => {\n    const { tabsView, options } = this;\n    const tabInfo = {\n      title: options?.localization?.untitledTab || strings.untitledTab, id: this.nextTabId,\n    };\n    tabsView.tabs = [...tabsView.tabs, tabInfo];\n    this.nextTabId += 1;\n    this.addContentWindow(tabInfo.id);\n    this.focusTabHandler(tabsView.tabs.length - 1);\n  }\n}\n\nexport default Workspace;\n","import './theme.scss';\n\nimport ITerminalsOrchestrator from '@TerminalsOrchestrator/ITerminalsOrchestrator';\nimport { OptionsType } from '@TerminalsOrchestrator/types';\nimport { IWorkspace } from '@TerminalsOrchestrator/Workspace/IWorkspace';\nimport Workspace from '@TerminalsOrchestrator/Workspace';\n\nclass TerminalsOrchestrator implements ITerminalsOrchestrator {\n  private workspace: IWorkspace;\n  constructor(container: HTMLElement, options: OptionsType) {\n    this.workspace = new Workspace(container, { localization: options.localization });\n    let activeIndex = 0;\n    this.workspace.tabs = options.tabs.map(({ name, focused }, index: number): string => {\n      if (focused) activeIndex = index;\n      return name || '';\n    });\n    this.workspace.activeTab = activeIndex;\n  }\n\n  public destroy() {\n    this.workspace.destroy();\n  }\n}\n\nexport default TerminalsOrchestrator;\n"],"names":["TemplateEngine","template","css","Emitter","EMITTER_FORCE_LAYER_TYPE","EMITTER_TOP_LAYER_TYPE","Plugin","Term","uniq"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAO,MAAM,MAAM,GAAG,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC;;ACAnE,MAAM,YAAY,GAAG,CAAC,GAAW,KAAa,GAAG;KACrD,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC;KACtB,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;KACrB,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;KACrB,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC;KACvB,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AAEpB,MAAM,YAAY,GAAG,CAAC,QAAgB,EAAE,IAA+B,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;KACjG,MAAM,CAAC,CACN,GAAW,EAAE,GAAW,KACrB,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,IAAI,GAAG,GAAG,EAAE,GAAG,CAAC,EAAE,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC;;ACV5E,MAAM,cAAc,GAAG,EAAE,CAAC;AAC1B,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,YAAY,GAAG,EAAE,CAAC;AACxB,MAAM,UAAU,GAAG,EAAE;;;;;;ACM5B,MAAM,WAAY,SAAQA,mBAAc;IA8BtC,YAAY,SAAsB,EAAE,UAAuB,EAAE,KAAK,EAAE,EAAE,EAAE;QACtE,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QA9BrB,eAAU,GAAY,KAAK,CAAC;QA6E5B,mBAAc,GAAG,CAAC,CAAgB;YACxC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YAClC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;YACtB,IAAI,OAAO,KAAK,cAAc,IAAI,QAAQ;gBAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;SACzD,CAAA;QAlDC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IAjCD,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;IACD,IAAW,QAAQ,CAAC,GAAY;QAC9B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,UAAU,KAAK,GAAG;YAAE,OAAO;QAC/B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,GAAG,EAAE;YACP,IAAI,CAAC,SAAS,CAAC,GAAG,CAACC,KAAG,CAAC,QAAQ,CAAC,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;SACvC;aAAM;YACL,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;SACrC;KACF;IAED,IAAW,KAAK;QACd,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,OAAO,IAAI,CAAC,KAAK,CAAC;KACnB;IAED,IAAW,KAAK,CAAC,GAAW;QAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;KAClB;IAUM,MAAM;QACX,MAAM,EAAE,KAAK,EAAE,QAAQ,GAAG,KAAK,EAAE,SAAS,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACjE,KAAK,CAAC,MAAM,CAAC,OAAEA,KAAG,EAAE,SAAS,EAAE,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACxB,IAAI,CAAC,MAAM,CAAC,MAAM,CAAsB,CAAC,KAAK,GAAG,KAAK,CAAC;KACzD;IAEM,MAAM;QACX,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IAEM,KAAK;QACV,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,IAAI,CAAC,KAAK,EAAE,CAAC;KACd;IAEM,IAAI;QACT,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,IAAI,CAAC,IAAI,EAAE,CAAC;KACb;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1C,IAAI,MAAM;YAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAClD,IAAI,QAAQ;YAAE,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;KACrE;IAEO,eAAe;QACrB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAqB,CAAC;QACrD,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAC1C,IAAI,MAAM;YAAE,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QACrD,IAAI,QAAQ;YAAE,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;KACxE;;;AClEH,MAAM,GAAI,SAAQF,mBAAc;IAgJ9B,YAAY,SAAsB,EAAE,OAAuB;QACzD,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QA5HrB,uBAAkB,GAAW,CAAC,CAAC;QAqB/B,eAAU,GAAW,CAAC,CAAC,CAAC;QAaxB,eAAU,GAAW,EAAE,CAAC;QAUxB,aAAQ,GAAY,KAAK,CAAC;QA0B1B,kBAAa,GAAY,KAAK,CAAC;QAa/B,cAAS,GAAW,CAAC,CAAC;QAWtB,uBAAkB,GAAY,KAAK,CAAC;QAkBpC,aAAQ,GAMZ,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;QAC/C,YAAO,GAAY,IAAIE,mBAAO,CAACC,oCAAwB,CAAC,CAAC;QA8ElE,WAAM,GAAG;YACf,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;SAC3B,CAAA;QAEO,iBAAY,GAAG,CAAC,CAAQ;YAC9B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YACjC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SACtD,CAAA;QAEO,0BAAqB,GAAG,CAAC,CAAgB;YAC/C,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YACjC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SACtD,CAAA;QAEO,iBAAY,GAAG,CAAC,CAAQ;YAC9B,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YACjC,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SACtD,CAAA;QAEO,qBAAgB,GAAG;YACzB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;YAChD,IAAI,CAAC,SAAS,CAAC,GAAG,CAACF,KAAG,CAAC,SAAS,CAAC,CAAC;SACnC,CAAA;QAEO,gBAAW,GAAG,CAAC,CAAY;YACjC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;YACjC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SACrD,CAAA;QAEO,mBAAc,GAAG,CAAC,CAAY;YACpC,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;YACjC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;YAChD,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;YACrC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC;SACxD,CAAA;QAEO,oBAAe,GAAG,CAAC,CAAY;YACrC,CAAC,CAAC,cAAc,EAAE,CAAC;SACpB,CAAA;QAEO,uBAAkB,GAAG;YAC3B,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC7C,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC;YAC9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,OAA+B;gBACtD,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B,CAAC,CAAC;SACJ,CAAA;QAzHC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC;QACxC,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,SAAS,IAAI,KAAK,CAAC;QAC9C,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,OAAO,CAAC,KAAK,KAAK,SAAS,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC;QACnE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,UAAU,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,EAAE;YAC9E,SAAS,EAAEA,KAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI;YAC5D,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EAAE,MAAM,EAAE,IAAI,CAAC,kBAAkB;SACnE,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IA5JD,IAAW,aAAa;QACtB,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC;KAClC;IAED,IAAW,aAAa,CAAC,GAAY;QACnC,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC;QAC5B,IAAI,UAAU,CAAC,QAAQ,KAAK,GAAG;YAAE,OAAO;QACxC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB,CAAC;QAClD,IAAI,GAAG,EAAE;YACP,UAAU,CAAC,QAAQ,GAAG,KAAK,CAAC;YAC5B,UAAU,CAAC,KAAK,EAAE,CAAC;YACnB,UAAU,CAAC,MAAM,EAAE,CAAC;YACpB,KAAK,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;SACnC;aAAM;YACL,UAAU,CAAC,IAAI,EAAE,CAAC;YAClB,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC3B,KAAK,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;SACtC;KACF;IAGD,IAAW,aAAa,CAAC,GAAW;QAClC,MAAM,EAAE,kBAAkB,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC;QAC7C,MAAM,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QACjD,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;QAC9B,IAAI,YAAY,IAAI,GAAG,KAAK,kBAAkB,EAAE;YAC9C,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC;YACvC,IAAI,GAAG,IAAI,GAAG,GAAG,EAAE,EAAE;gBACnB,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;gBAC9D,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,qBAAqB,kBACvD,IAAI,EAAE,YAAY,GAAG,GAAG,GAAG,CAAC,KAAM,MAAM,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,GAC/E,CAAC;aACJ;iBAAM;gBACL,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;aAC/D;SACF;KACF;IACD,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAChC;IAGD,IAAW,KAAK,CAAC,GAAW;QAC1B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;KACvB;IACD,IAAW,KAAK;QACd,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;IAED,IAAW,KAAK;QACd,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,OAAO,IAAI,GAAI,IAAoB,CAAC,WAAW,GAAG,CAAC,CAAC;KACrD;IAGD,IAAW,KAAK,CAAC,GAAW;QAC1B,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QAC3C,IAAI,SAAS,IAAI,GAAG,KAAK,IAAI,CAAC,UAAU;YAAE,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;QAClF,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;KACvB;IACD,IAAW,KAAK;QACd,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;IAGD,IAAW,MAAM,CAAC,GAAY;QAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI,CAAC,QAAQ,EAAE;YACjC,IAAI,GAAG;gBAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;;gBACnC,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;SACxC;QACD,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;KACrB;IACD,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;IAGD,IAAW,SAAS,CAAC,GAAY;QAC/B,IAAI,IAAI,CAAC,WAAW,KAAK,GAAG;YAAE,OAAO;QACrC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,IAAI,GAAG;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;;YACtC,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;KAC3C;IACD,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,WAAW,CAAC;KACzB;IAGD,IAAW,MAAM,CAAC,GAAY;QAC5B,IAAI,IAAI,CAAC,aAAa,KAAK,GAAG;YAAE,OAAO;QACvC,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;QACzB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,IAAI,GAAG;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;;YACnC,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;KACxC;IACD,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;IAGD,IAAW,IAAI;QACb,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;IACD,IAAW,IAAI,CAAC,GAAW;QACzB,IAAI,IAAI,CAAC,SAAS,KAAK,GAAG;YAAE,OAAO;QACnC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KAC9B;IAGD,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAChC;IACD,IAAW,aAAa,CAAC,GAAY;QACnC,IAAI,IAAI,CAAC,kBAAkB,KAAK,GAAG;YAAE,OAAO;QAC5C,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;QAC9B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,GAAG;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;;YACtC,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;KAC3C;IAED,IAAY,QAAQ;QAClB,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,kBAAkB;YAAE,OAAO,EAAE,CAAC;QACnC,OAAO,MAAM,GAAG,IAAI,kBAAkB,EAAE,GAAG,MAAM,kBAAkB,EAAE,CAAC;KACvE;IA4BM,MAAM;QACX,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QAChD,KAAK,CAAC,MAAM,CAAC;YACX,QAAQ;iBACRA,KAAG;YACH,KAAK,EAAE,YAAY,CAAC,KAAK,CAAC;YAC1B,MAAM,EAAE,MAAM,GAAGA,KAAG,CAAC,MAAM,GAAG,EAAE;YAChC,OAAO,EAAE,MAAM,GAAG,EAAE,GAAGA,KAAG,CAAC,OAAO;YAClC,KAAK,EAAE,KAAK,KAAK,CAAC,GAAGA,KAAG,CAAC,KAAK,GAAG,EAAE;YACnC,SAAS,EAAE,IAAI,CAAC,WAAW,GAAGA,KAAG,CAAC,SAAS,GAAG,EAAE;YAChD,MAAM,EAAE,IAAI,CAAC,aAAa,GAAGA,KAAG,CAAC,MAAM,GAAG,EAAE;SAC7C,CAAC,CAAC;KACJ;IAEM,gBAAgB,CAAC,KAAgB,EAAE,OAAyB;QACjE,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAA4B,CAAC;QAC7D,IAAI,IAAI;YAAE,IAAI,CAAC,IAAI,CAAC,OAAgC,CAAC,CAAC;KACvD;IAEM,mBAAmB,CAAC,KAAgB,EAAE,OAAyB;QACpE,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAA4B,CAAC;QAC7D,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAgC,CAAC,CAAC;QAC7D,IAAI,KAAK,IAAI,CAAC;YAAE,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;KACvC;IAEM,OAAO;QACZ,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB,CAAC;QAClD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAgB,CAAC;QACpD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAClD,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC1D,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAChD,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC5D,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACtD,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACnD,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KAC/C;IAEO,eAAe;QACrB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB,CAAC;QAClD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAgB,CAAC;QACpD,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACrD,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC7D,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACnD,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC/D,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QACtD,KAAK,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACtD,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;KACpE;;;AC3OI,MAAM,gBAAgB,GAAG,OAAO,CAAC;AACjC,MAAM,gBAAgB,GAAG,OAAO,CAAC;AACjC,MAAM,gBAAgB,GAAG,OAAO,CAAC;AACjC,MAAM,eAAe,GAAG,MAAM,CAAC;AAC/B,MAAM,mBAAmB,GAAG,SAAS,CAAC;AACtC,MAAM,iBAAiB,GAAG,QAAQ,CAAC;AACnC,MAAM,cAAc,GAAG,KAAK,CAAC;AAE7B,MAAM,UAAU,GAAG,CAAC,gBAAgB,EAAE,gBAAgB,CAAC;;;;;;;;;;ACF9D,MAAM,cAAe,SAAQF,mBAAc;IAGzC,YAAY,SAAsB,EAAE,OAAwC;QAC1E,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IAEM,MAAM;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QAC7B,KAAK,CAAC,MAAM,CAAC,OAAEC,KAAG,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;KACpC;;;ACPH,MAAM,UAAW,SAAQF,mBAAc;IAIrC,YAAY,SAAsB,EAAE,UAAiC,EAAE,KAAK,EAAE,EAAE,EAAE;QAChF,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAJZ,YAAO,GAA0B,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC;QACxD,UAAK,GAAsB,EAAE,CAAC;QAC9B,YAAO,GAAY,IAAIE,mBAAO,CAACE,kCAAsB,CAAC,CAAC;QAwDvD,gBAAW,GAAG,CAAC,CAAQ;YAC7B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YAClC,CAAC,CAAC,eAAe,EAAE,CAAC;YACpB,MAAM,SAAS,GAAI,CAAC,CAAC,MAAsB,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YACvE,IAAI,SAAS,IAAI,QAAQ;gBAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;SAC3D,CAAA;QA1DC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IAEM,MAAM;QACX,KAAK,CAAC,MAAM,CAAC,OAAEH,KAAG,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,EAAE,EAAE,CAAC,CAAC;QAC/D,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,WAAW;QACjB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAC/B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE;YAClC,OAAO,IAAI,cAAc,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;SACtD,CAAC,CAAC;KACJ;IAEO,cAAc;QACpB,MAAM,EAAE,QAAQ,GAAG,EAAE,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACvC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,GAAG,QAAQ,CAAC,IAAI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACjE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,KAAK,GAAG,GAAG,QAAQ,CAAC,KAAK,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACpE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QAC9D,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,GAAG,QAAQ,CAAC,MAAM,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;KACxE;IAEO,YAAY;QAClB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACjC,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SACzE;QACA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KAClF;IAEO,eAAe;QACrB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACjC,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;YAC/C,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SAC5E;QACA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;KACrF;;;ACvCH,MAAM,IAAK,SAAQF,mBAAc;IAgD/B,YAAY,SAAsB,EAAE,UAAuB,EAAE;QAC3D,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAhDrB,cAAS,GAAkB,EAAE,CAAC;QAc9B,mBAAc,GAAW,CAAC,CAAC;QAe3B,qBAAgB,GAAW,CAAC,CAAC;QAC7B,eAAU,GAAW,CAAC,CAAC;QAGvB,aAAQ,GAAuD,EAAE,CAAC;QAElE,aAAQ,GAKZ,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QAkG3C,mBAAc,GAAG,CAAC,OAA8B;YACtD,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC;YACpE,MAAM,mBAAmB,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,cAAc,CAAC,CAAC;YACjF,IAAI,mBAAmB,IAAI,CAAA,mBAAmB,aAAnB,mBAAmB,uBAAnB,mBAAmB,CAAE,WAAW,CAAC,KAAK,MAAK,IAAI,CAAC,UAAU,EAAE;gBACrF,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;YACD,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,cAAc,EAAE,CAAC;SACvB,CAAA;QAEO,mBAAc,GAAG;YACvB,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,MAAM,EAAE,gBAAgB,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC5C,MAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAClE,IAAI,KAAK,GAAG,gBAAgB,EAAE;gBAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;iBAAM;gBACL,IAAI,CAAC,QAAQ,EAAE,CAAC;aACjB;SACF,CAAA;QAmIO,oBAAe,GAAG;YACxB,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,OAAO,IAAK,OAAsB,EAAE,CAAC,CAAC;SAC7E,CAAA;QAEO,mBAAc,GAAG,CAAC,KAAa,EAAE,CAAY;YACnD,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YACpC,IAAI,QAAQ,EAAE;gBACZ,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;gBACvB,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC3B;iBAAM;gBACL,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC;gBACxD,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;gBAChD,IAAI,CAAC,SAAS,CAAC,GAAG,CAACC,KAAG,CAAC,SAAS,CAAC,CAAC;gBAClC,MAAM,EAAE,IAAI,EAAE,GAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,qBAAqB,EAAE,CAAC;gBAC9E,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;gBACtB,IAAI,CAAC,QAAQ,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;aACtE;SACF,CAAA;QAEO,sBAAiB,GAAG;YAC1B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;YAC1C,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;YAChD,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,KAAK,CAAC,CAAC;YACzD,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,SAAS,CAAC,CAAC;YACrC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACrB,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,IAAK,QAAoC,CAAC,IAAI,CAAC,CAAC,CAAC;SACnF,CAAA;QA+IO,uBAAkB,GAAG;YAC3B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1B,IAAI,IAAI,GAAG,KAAK,CAAC;YACjB,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,CAC/B,GAAmC,EAAE,IAAI,EAAE,KAAK;gBAEhD,IAAI,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI;oBAAE,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;;oBACvE,IAAI,GAAG,IAAI,CAAC;gBACjB,OAAO,GAAG,CAAC;aACZ,EAAE,EAAoC,CAAC,CAAC;YACzC,IAAI,QAAQ,CAAC,MAAM,EAAE;gBACnB,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,SAAwB,EAAE;oBAC9D,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAEA,KAAG,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,sBAAsB;oBAC9E,QAAQ,EAAE,IAAI,CAAC,sBAAsB;iBACtC,CAAC,CAAC;aACJ;SACF,CAAA;QAEO,wBAAmB,GAAG;YAC5B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1B,IAAI,KAAK,GAAG,KAAK,CAAC;YAClB,MAAM,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,CAChC,GAAmC,EAAE,IAAI,EAAE,KAAK;gBAEhD,IAAI,IAAI,CAAC,SAAS,IAAI,CAAC,KAAK;oBAAE,KAAK,GAAG,IAAI,CAAC;qBACtC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS;oBAAE,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC;gBACjF,OAAO,GAAG,CAAC;aACZ,EAAE,EAAoC,CAAC,CAAC;YACzC,IAAI,SAAS,CAAC,MAAM,EAAE;gBACpB,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,SAAwB,EAAE;oBAC9D,KAAK,EAAE,SAAS,EAAE,SAAS,EAAEA,KAAG,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,sBAAsB;oBAChF,QAAQ,EAAE,IAAI,CAAC,sBAAsB;iBACtC,CAAC,CAAC;aACJ;SACF,CAAA;QAEO,2BAAsB,GAAG;;YAC/B,MAAA,IAAI,CAAC,UAAU,0CAAE,OAAO,GAAG;YAC3B,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB,CAAA;QAEO,2BAAsB,GAAG,CAAC,KAAa;YAC7C,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;SACxB,CAAA;QAEO,qBAAgB,GAAG,CAAC,KAAa,EAAE,KAAa;YACtD,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACvC,IAAI,QAAQ;gBAAE,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;SACtC,CAAA;QA1cC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IAnDD,IAAW,IAAI;QACb,OAAO,IAAI,CAAC,SAAS,CAAC;KACvB;IACD,IAAW,IAAI,CAAC,GAAkB;QAChC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,GAAG,CAAC;QACrB,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAGD,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,cAAc,CAAC;KAC5B;IACD,IAAW,SAAS,CAAC,GAAW;QAC9B,MAAM,EAAE,SAAS,EAAE,QAAQ,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC;QACrD,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;YAC3C,IAAI,QAAQ,CAAC,cAAc,CAAC;gBAAE,QAAQ,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;YAC1E,MAAM,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC9B,IAAI,CAAC,cAAc,GAAG,GAAG,CAAC;YAC1B,IAAI,OAAO;gBAAE,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,SAAS;gBAAE,IAAI,CAAC,cAAc,EAAE,CAAC;SAC/C;KACF;IA2BM,MAAM;QACX,KAAK,CAAC,MAAM,CAAC,OAAEA,KAAG,EAAE,CAAC,CAAC;QACtB,IAAI,CAAC,UAAU,GAAI,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAkB,CAAC,WAAW,CAAC;QAC9E,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAgB,CAAC;QACpD,SAAS,CAAC,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;KAC5C;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEM,gBAAgB,CAAC,KAAgB,EAAE,OAAyB;QACjE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACnB,IAAI,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC9B,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO;gBACvB,MAAM,QAAQ,GAAG,KAAK,KAAK,gBAAgB,GAAG,gBAAgB,GAAG,KAAK,CAAC;gBACvE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,QAAwB,EAAE,OAA8B,CAAC,CAAC;aACxF,CAAC,CAAC;SACJ;KACF;IAEM,mBAAmB,CAAC,KAAgB,EAAE,OAAyB;QACpE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC7B,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,KAAK,GAAG,CAAC;YAAE,OAAO;QACtB,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACtB,IAAI,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;YAC9B,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO;gBACvB,MAAM,QAAQ,GAAG,KAAK,KAAK,gBAAgB,GAAG,gBAAgB,GAAG,KAAK,CAAC;gBACvE,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,QAAwB,EAAE,OAA8B,CAAC,CAAC;aAC3F,CAAC,CAAC;SACJ;KACF;IAEO,YAAY;QACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACnF,IAAI,CAAC,MAAM,CAAC,WAAW,CAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC5F,IAAI,CAAC,MAAM,CAAC,YAAY,CAAiB,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;QAC/F,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC,CAAC;QACpD,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC,CAAC;KAC/D;IAEO,eAAe;QACrB,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC,CAAC;QACtD,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC,CAAC;QAC/D,IAAI,CAAC,MAAM,CAAC,KAAK,CAAiB,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACtF,IAAI,CAAC,MAAM,CAAC,WAAW,CAAiB,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;QAC/F,IAAI,CAAC,MAAM,CAAC,YAAY,CAAiB;aACvC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,CAAC;KAC3D;IAEO,UAAU;QAChB,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,aAAa,EAAE,EAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,GAAG,IAAI,CAAC;QACzF,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,KAAa;gBAChD,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,IAAmB,EAAE;oBACvC,KAAK,EAAE,KAAK,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,KAAK,SAAS,EAAE,SAAS,EAAE,IAAI;iBAC1E,CAAC,CAAC;gBACH,IAAI,KAAK,CAAC,MAAM,EAAE;oBAChB,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC,gBAAgB,CAC3C,gBAAgB,EAAE,OAA8B,CACjD,CAAC,CAAC;iBACJ;gBACD,IAAI,KAAK,CAAC,MAAM,EAAE;oBAChB,KAAK,CAAC,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC,gBAAgB,CAC3C,gBAAgB,EAAE,OAA8B,CACjD,CAAC,CAAC;iBACJ;gBACD,GAAG,CAAC,gBAAgB,CAAC,eAAe,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBAC3D,GAAG,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBAClE,GAAG,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;gBAC/D,OAAO,EAAE,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,CAAC;aACnD,CAAC,CAAC;SACJ;KACF;IAuBO,sBAAsB;QAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC;QACjD,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAiB,CAAC;QAC1D,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAiB,CAAC;QAC5D,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAiB,CAAC;QAC/C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,GAAG,SAAS,CAAC,WAAW;cACnF,GAAG,CAAC,WAAW,CAAC;KACrB;IAEO,QAAQ;QACd,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI;YACpB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;gBACxB,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,aAAa,GAAG,EAAE,GAAG,aAAa,GAAG,CAAC,CAAC;gBAChE,aAAa,IAAI,CAAC,CAAC;aACpB;iBAAM;gBACL,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC;gBAC3B,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;aACxB;SACF,CAAC,CAAC;QACH,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,mBAAmB,EAAE,CAAC;KAC5B;IAEO,mBAAmB;QACzB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI;YACzB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC;SAC7B,CAAC,CAAC;KACJ;IAEO,cAAc;QACpB,MAAM,EAAE,gBAAgB,EAAE,cAAc,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC5D,QAAQ,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC;QACjD,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,KAAK,IAAI,CAAC,GAAG,cAAc,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAC3C,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,MAAM,gBAAgB,GAAG,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;YACnD,IAAI,cAAc,KAAK,CAAC,IAAI,gBAAgB,GAAG,gBAAgB;gBAAE,MAAM;YACvE,SAAS,GAAG,gBAAgB,CAAC;YAC7B,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;SAC1B;QACD,MAAM,mBAAmB,GAAG,cAAc,GAAG,CAAC,CAAC;QAC/C,MAAM,cAAc,GAAG,QAAQ,CAAC,MAAM,CAAC;QACvC,IAAI,SAAS,GAAG,gBAAgB,IAAI,mBAAmB,GAAG,cAAc,EAAE;YACxE,KAAK,IAAI,CAAC,GAAG,mBAAmB,EAAE,CAAC,GAAG,cAAc,EAAE,CAAC,IAAI,CAAC,EAAE;gBAC5D,MAAM,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM,gBAAgB,GAAG,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC;gBACnD,IAAI,gBAAgB,GAAG,gBAAgB;oBAAE,MAAM;gBAC/C,SAAS,GAAG,gBAAgB,CAAC;gBAC7B,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;aAC1B;SACF;KACF;IAEO,kBAAkB;QACxB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YACpD,MAAM,EAAE,SAAS,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,SAAS;gBAAE,MAAM;;gBAChB,aAAa,IAAI,CAAC,CAAC;SACzB;QACD,IAAI,aAAa;YAAE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;;YAC/C,IAAI,CAAC,YAAY,EAAE,CAAC;KAC1B;IAEO,mBAAmB;QACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,KAAK,IAAI,CAAC,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;YAChD,MAAM,EAAE,SAAS,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,SAAS;gBAAE,MAAM;;gBAChB,cAAc,IAAI,CAAC,CAAC;SAC1B;QAED,IAAI,cAAc;YAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;;YAClD,IAAI,CAAC,aAAa,EAAE,CAAC;KAC3B;IAEO,QAAQ;QACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI;YACpB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,aAAa,GAAG,EAAE,GAAG,aAAa,GAAG,CAAC,CAAC;YAChE,aAAa,IAAI,CAAC,CAAC;SACpB,CAAC,CAAC;KACJ;IAEO,YAAY;QAClB,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAgB,CAAC;QACzD,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC;QACpE,QAAQ,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QACnC,cAAc,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;KAC1C;IAEO,YAAY,CAAC,QAAgB,CAAC;QACpC,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAgB,CAAC;QACzD,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC;QACpE,QAAQ,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QACtC,cAAc,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,IAAI,KAAK,GAAG,CAAC;YAAE,cAAc,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,OAAO,CAAC,CAAC;;YACpD,cAAc,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,OAAO,CAAC,CAAC;KACnD;IAEO,aAAa;QACnB,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAgB,CAAC;QAC3D,MAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAgB,CAAC;QACtE,SAAS,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QACpC,eAAe,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;KAC3C;IAEO,aAAa,CAAC,QAAgB,CAAC;QACrC,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAgB,CAAC;QAC3D,MAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAgB,CAAC;QACtE,SAAS,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QACvC,eAAe,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,KAAK,GAAG,CAAC;YAAE,eAAe,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;;YACtD,eAAe,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;KACrD;IA+BO,cAAc,CAAC,CAAY;QACjC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;QACtB,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,GAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,qBAAqB,EAAE,CAAC;QAC9F,MAAM,OAAO,GAAG,OAAO,GAAG,IAAI,CAAC;QAC/B,IAAI,OAAO,GAAG,CAAC,CAAC;YAAE,OAAO;QACzB,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC;KACzD;IAEO,kBAAkB;QACxB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;QAClC,MAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC9C,IAAI,aAAa,GAAG,CAAC;YAAE,OAAO;QAC9B,IAAI,aAAa,KAAK,YAAY,EAAE;YAClC,QAAQ,CAAC,YAAY,GAAG,aAAa,CAAC;YACtC,IAAI,CAAC,mBAAmB,EAAE,CAAC;SAC5B;KACF;IAEO,gBAAgB;QACtB,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,QAAQ;YAAE,OAAO,CAAC,CAAC,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,GAAG,QAAQ,CAAC;QAC1B,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;QACf,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YACpD,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzC,IAAI,CAAC,SAAS;gBAAE,SAAS;YACzB,MAAM,SAAS,GAAG,WAAW,GAAG,KAAK,CAAC;YACtC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,SAAS,EAAE;gBACjC,KAAK,GAAG,CAAC,CAAC;gBACV,MAAM;aACP;YACD,WAAW,GAAG,SAAS,CAAC;SACzB;QACD,OAAO,KAAK,CAAC;KACd;IAEO,WAAW;QACjB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IAEO,mBAAmB;QACzB,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;QAC1D,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;QACzC,MAAM,aAAa,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;QAC1C,MAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC1C,MAAM,UAAU,GAAG,SAAS,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,MAAM;YAAE,OAAO;QAC5B,QAAQ,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7C,SAAS,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QACtD,QAAQ,CAAC,KAAK,GAAG,YAAY,CAAC;KAC/B;IAEO,eAAe;QACrB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,IAAI;YAAE,OAAO;QAClB,IAAI,aAAa,GAAG,CAAC,CAAC;QACtB,QAAQ,CAAC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,EAAE,KAAK;YACzC,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;YAClD,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1B,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC;YACb,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YAC1B,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;YAClB,IAAI,SAAS,EAAE;gBACb,GAAG,CAAC,aAAa,GAAG,aAAa,CAAC;gBAClC,aAAa,IAAI,CAAC,CAAC;aACpB;iBAAM;gBACL,GAAG,CAAC,aAAa,GAAG,CAAC,CAAC;aACvB;SACF,CAAC,CAAC;KACJ;IAEO,YAAY,CAAC,KAAa;QAChC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,OAAO,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAW,EAAE,OAAO,EAAE,CAAC;YAC7C,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,SAAS;gBAAE,OAAO,GAAG,CAAC;YACjD,OAAO,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;SAC5B,EAAE,CAAC,CAAC,CAAC;KACP;IAEO,mBAAmB;QACzB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;QACzC,IAAI,YAAY,IAAI,KAAK,EAAE;YACzB,IAAI,CAAC,8BAA8B,EAAE,CAAC;YACtC,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAChC;aAAM;YACL,IAAI,CAAC,+BAA+B,EAAE,CAAC;YACvC,IAAI,CAAC,wBAAwB,EAAE,CAAC;SACjC;KACF;IAEO,8BAA8B;QACpC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAmD,CAAC;QACpF,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAC5D,GAAW,EAAE,OAAO,EAAE,CAAC;YAEvB,OAAO,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,IAAI,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;SAC5E,EAAE,CAAC,CAAC,CAAC;QACN,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;KAC5C;IAEO,+BAA+B;QACrC,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAmD,CAAC;QACpF,QAAQ,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC,GAAW,EAAE,OAAO,EAAE,CAAC;YACjE,OAAO,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,GAAG,YAAY,GAAG,GAAG,GAAG,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;SACxF,EAAE,CAAC,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;KAC/B;IAEO,uBAAuB;QAC7B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAmD,CAAC;QACpF,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,CAAC,KAAK,KAAK;gBAAE,SAAS;YAC1B,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,YAAY,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,WAAW,CAAC;SACxE;KACF;IAEO,wBAAwB;QAC9B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QACpC,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,GAAG,QAAmD,CAAC;QACpF,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;QAC1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;YACpD,IAAI,CAAC,KAAK,KAAK;gBAAE,SAAS;YAC1B,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,IAAI,YAAY;gBAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,WAAW,CAAC;;gBACvE,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC;SAC/B;KACF;;;;;;;;;;;ACveI,MAAM,wBAAwB,GAAG,EAAE,CAAC;AACpC,MAAM,yBAAyB,GAAG,EAAE,CAAC;AACrC,MAAM,WAAW,GAAG,EAAE,CAAC;AAEvB,MAAM,cAAc,GAAG,MAAM,CAAC;AAC9B,MAAM,eAAe,GAAG,OAAO,CAAC;AAChC,MAAM,aAAa,GAAG,KAAK,CAAC;AAC5B,MAAM,gBAAgB,GAAG,QAAQ,CAAC;AAElC,MAAM,kBAAkB,GAAG,SAAS,CAAC;AACrC,MAAM,mBAAmB,GAAG,UAAU,CAAC;AACvC,MAAM,qBAAqB,GAAG,YAAY,CAAC;AAC3C,MAAM,sBAAsB,GAAG,aAAa,CAAC;AAE7C,MAAM,gBAAgB,GAAG,QAAQ,CAAC;AAElC,MAAM,UAAU,GAAG;IACxB,cAAc,EAAE,eAAe,EAAE,aAAa,EAAE,gBAAgB;IAChE,kBAAkB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,sBAAsB;IACtF,gBAAgB;CACjB;;;;;;;;ACTD,MAAM,UAAW,SAAQF,mBAAc;IAQrC,YAAY,SAAsB,EAAE,OAAoB;QACtD,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAoCrB,uBAAkB,GAAG;YAC3B,MAAM,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;YACpD,WAAW,CAAC,QAAQ,GAAG,IAAI,CAAC;YAC5B,IAAI,QAAQ;gBAAE,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC3C,CAAA;QAEO,aAAQ,GAAG;YACjB,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;YAC7B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACpC,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC;YAC7B,WAAW,CAAC,KAAK,EAAE,CAAC;YACpB,WAAW,CAAC,MAAM,EAAE,CAAC;YACrB,IAAI,UAAU;gBAAE,UAAU,EAAE,CAAC;SAC9B,CAAA;QAhDC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,WAAW,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,EAAE;YAC/E,SAAS,EAAEC,KAAG,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI;YAC1D,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EAAE,MAAM,EAAE,IAAI,CAAC,kBAAkB;SACnE,CAAC,CAAC;KACJ;IAfD,IAAW,gBAAgB;QACzB,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAgB,CAAC;KACrD;IAeM,MAAM;QACX,KAAK,CAAC,MAAM,CAAC,OAAEA,KAAG,EAAE,OAAO,EAAE,MAAM,GAAG,EAAE,GAAGA,KAAG,CAAC,OAAO,EAAE,CAAC,CAAC;QAC1D,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;QAC3B,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACjC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAgB,CAAC;QACpD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB,CAAC;QAClD,IAAI,OAAO;YAAE,KAAK,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACtD,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;KACjD;IAEO,eAAe;QACrB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACjC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAgB,CAAC;QACpD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB,CAAC;QAClD,IAAI,OAAO;YAAE,KAAK,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACzD,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;KACpD;;;AC7CH,MAAM,gBAAiB,SAAQI,WAAM;IAInC,YAAY,OAAoB;QAC9B,KAAK,EAAE,CAAC;QA6CF,oBAAe,GAAG;YACxB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,QAAQ;gBAAE,OAAO;YACtB,MAAM,KAAK,GAAI,QAAsB,CAAC,QAAQ,CAAC,KAAoB,CAAC;YACpE,KAAK,CAAC,SAAS,CAAC,GAAG,CAACJ,KAAG,CAAC,QAAQ,CAAC,CAAC;SACnC,CAAA;QAEO,aAAQ,GAAG,CAAC,IAAY;YAC9B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,EAAE,GAAG,IAAI,CAAC;YACjD,IAAI,CAAC,QAAQ;gBAAE,OAAO;YACtB,MAAM,KAAK,GAAI,QAAsB,CAAC,QAAQ,CAAC,KAAoB,CAAC;YACpE,KAAK,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,QAAQ;gBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC9B,CAAA;QAzDC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;KACxB;IAEM,WAAW,CAAC,QAAmB,EAAE,wBAAmD;QACzF,KAAK,CAAC,WAAW,CAAC,QAAQ,EAAE,wBAAwB,CAAC,CAAC;QACtD,MAAM,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC,QAAQ,CAAC;QACpC,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;KACF;IAEM,OAAO;;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,MAAA,IAAI,CAAC,UAAU,0CAAE,OAAO,GAAG;QAC3B,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,WAAW,EAAE,EAAE,GAAG,IAAI,CAAC;QACtD,MAAM,gBAAgB,GAAG,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,gBAAgB,CAAC;QACtD,IAAI,CAAC,gBAAgB,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9C,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;KAC7D;IAEO,eAAe;QACrB,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,EAAE,WAAW,EAAE,EAAE,GAAG,IAAI,CAAC;QACtD,MAAM,gBAAgB,GAAG,UAAU,aAAV,UAAU,uBAAV,UAAU,CAAE,gBAAgB,CAAC;QACtD,IAAI,CAAC,gBAAgB,IAAI,CAAC,WAAW;YAAE,OAAO;QAC9C,gBAAgB,CAAC,mBAAmB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;KAChE;IAEO,aAAa;QACnB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,CAAC;QAChD,IAAI,CAAC,QAAQ;YAAE,OAAO;QACtB,MAAM,KAAK,GAAI,QAAsB,CAAC,QAAQ,CAAC,KAAoB,CAAC;QACpE,MAAM,SAAS,GAAG,QAAQ,CAAC,KAAK,CAAC;QACjC,KAAK,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,KAAK,EAAE;YACtC,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,UAAU,EAAE,IAAI,CAAC,eAAe,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ;SACrF,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,YAAY,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;KACtE;;;ACzDH,cAAe;IACb,WAAW,EAAE,UAAU;IACvB,YAAY,EAAE,UAAU;IACxB,0BAA0B,EAAE,OAAO;IACnC,0BAA0B,EAAE,QAAQ;IACpC,yBAAyB,EAAE,WAAW;IACtC,wBAAwB,EAAE,2DAA2D;IACrF,2BAA2B,EAAE,OAAO;IACpC,2BAA2B,EAAE,QAAQ;IACrC,0BAA0B,EAAE,gBAAgB;IAC5C,yBAAyB,EAAE,gEAAgE;CAC5F;;ACED,MAAM,aAAc,SAAQF,mBAAc;IAuFxC,YAAY,SAAsB,EAAE,OAAoB;QACtD,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAnFrB,eAAU,GAAY,KAAK,CAAC;QAY5B,gBAAW,GAAW,CAAC,CAAC;QAcxB,uBAAkB,GAAY,KAAK,CAAC;QAmIpC,gBAAW,GAAG,CAAC,CAAa;YAClC,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACrC,MAAM,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,MAAM,IAAI,CAAC,WAAW;gBAAE,OAAO;YACpC,MAAM,QAAQ,GAAI,MAAsB,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;YACnE,IAAI,QAAQ,IAAI,UAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;gBAC7C,IAAI,CAAC,QAAQ,GAAG,QAAoB,CAAC;gBACrC,WAAW,CAAC,QAAoB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;aAC5C;SACF,CAAA;QAEO,cAAS,GAAG,CAAC,CAAa;YAChC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,SAAS,EAAE,EAAE,GAAG,IAAI,CAAC;YAClD,IAAI,CAAC,QAAQ;gBAAE,OAAO;YACtB,OAAO,IAAI,CAAC,QAAQ,CAAC;YACrB,IAAI,SAAS;gBAAE,SAAS,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SAC7C,CAAA;QAEO,WAAM,GAAG,CAAC,CAAa;YAC7B,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,EAAE,GAAG,IAAI,CAAC;YAC/C,IAAI,QAAQ,IAAI,MAAM;gBAAE,MAAM,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;SACnD,CAAA;QAEO,YAAO,GAAG,CAAC,CAAQ;YACzB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;YACjC,IAAI,OAAO;gBAAE,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAC/B,CAAA;QAEO,aAAQ,GAAG,CAAC,IAAY;YAC9B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACzB,CAAA;QAEO,YAAO,GAAG;YAChB,MAAM,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,IAAI,CAAC;YACtC,IAAI,OAAO;gBAAE,OAAO,CAAC,IAAI,CAAC,CAAC;SAC5B,CAAA;QA5GC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,IAAI,GAAG,IAAIM,SAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAgB,EAAE;YAC1D,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,YAAY;SAC9C,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;QAC5D,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC;YAC3C,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO;SAC9E,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IArGD,IAAW,KAAK;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;KACzB;IAGD,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;IACD,IAAW,QAAQ,CAAC,GAAY;QAC9B,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;QAClC,IAAI,UAAU,KAAK,GAAG;YAAE,OAAO;QAC/B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,IAAI,GAAG;YAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;KACrB;IAGD,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,WAAW,CAAC;KACzB;IACD,IAAW,MAAM,CAAC,GAAW;QAC3B,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,WAAW,KAAK,GAAG,EAAE;YACvB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,KAAK,GAAG,GAAG,CAAC;SAChD;KACF;IAGD,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,kBAAkB,CAAC;KAChC;IACD,IAAW,aAAa,CAAC,GAAY;QACnC,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAI,CAAC;QACpC,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;QAC9B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,IAAI,IAAI,kBAAkB,KAAK,GAAG;YAAE,OAAO;QAChD,IAAI,GAAG;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACL,KAAG,CAAC,aAAa,CAAC,CAAC;;YAC1C,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,aAAa,CAAC,CAAC;KAC/C;IAED,IAAW,QAAQ;QACjB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC3D,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC;KACrC;IAED,IAAW,QAAQ,CAAC,GAAiE;QACnF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,GAAG,CAAC;QACzC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,CAAC;QACrD,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,QAAQ,CAAC,IAAI,KAAK,IAAI;YAAE,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,GAAG,IAAI,GAAG,CAAC;QACzD,IAAI,QAAQ,CAAC,KAAK,KAAK,KAAK;YAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,KAAK,GAAG,CAAC;QAC7D,IAAI,QAAQ,CAAC,GAAG,KAAK,GAAG;YAAE,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;QACrD,IAAI,QAAQ,CAAC,MAAM,KAAK,MAAM;YAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,GAAG,CAAC;KAClE;IAED,IAAY,YAAY;QAUtB,OAAO;YACL,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAgB;YAC9C,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAgB;YAChD,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAgB;YACpD,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAgB;YACtD,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB;YACxC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAgB;YAC1C,GAAG,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,CAAgB;YACtC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAgB;SAC7C,CAAC;KACH;IAwBM,MAAM;QACX,KAAK,CAAC,MAAM,oCAAGA,KAAG,IAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAE,MAAM,EAAE,IAAI,CAAC,MAAM,IAAG,CAAC;KACtE;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QACpB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,EACJ,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,GACrE,GAAG,IAAI,CAAC,YAAY,CAAC;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAEhD,OAAO,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxD,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACzD,UAAU,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3D,WAAW,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE5D,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrD,KAAK,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACtD,GAAG,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACpD,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAEvD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAElD,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACnD,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACtD,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KACnD;IAEO,eAAe;QACrB,MAAM,EACJ,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,GACrE,GAAG,IAAI,CAAC,YAAY,CAAC;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAEhD,OAAO,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC3D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5D,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC9D,WAAW,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE/D,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxD,KAAK,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACzD,GAAG,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACvD,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAE1D,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QAErD,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACtD,MAAM,CAAC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzD,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;KACtD;;;;;;;AC5KI,MAAM,eAAe,GAAG,CAAC,CAAQ,KAAK,CAAC,CAAC,eAAe,EAAE;;ACShE,MAAM,iBAAkB,SAAQF,mBAAc;IAI5C,YAAY,SAAsB,EAAE,OAAoB;QACtD,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,OAAO,GAAG,IAAIE,mBAAO,CAACE,kCAAsB,CAAC,CAAC;QACnD,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IAEM,MAAM;QACX,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QACzE,KAAK,CAAC,MAAM,CAAC;iBACXH,KAAG,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,GAAG,MAAM,GAAG,EAAE,EAAE,MAAM,EAAE,QAAQ,GAAG,MAAM,GAAG,EAAE;SACjF,CAAC,CAAC;KACJ;IAEM,OAAO;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACvB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,GAAG,IAAI,CAAC;QAC1D,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;QAChD,IAAI,QAAQ,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,MAAM;gBAAE,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACvD,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAC;SACpE;QACD,IAAI,QAAQ,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAgB,CAAC;YACtD,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC5C,IAAI,MAAM;gBAAE,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACvD,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,QAAQ,EAAE,EAAE,IAAI,EAAE,YAAY,EAAE,CAAC,CAAC;SAClE;KACF;IAEO,eAAe;QACrB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,GAAG,IAAI,CAAC;QAC1D,IAAI,QAAQ,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,MAAM;gBAAE,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC1D,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SAC7C;QACD,IAAI,QAAQ,EAAE;YACZ,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACrC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAgB,CAAC;YACtD,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC/C,IAAI,MAAM;gBAAE,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YAC1D,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SAC7C;KACF;;;ACrCH,MAAM,OAAQ,SAAQF,mBAAc;IA4ClC,YAAY,SAAsB,EAAE,UAAuB,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE;QACnE,KAAK,CAACC,UAAQ,EAAE,SAAS,CAAC,CAAC;QA1CrB,eAAU,GAAY,KAAK,CAAC;QAW5B,gBAAW,GAAY,KAAK,CAAC;QAa7B,mBAAc,GAAqB,EAAE,CAAC;QAyBvC,qBAAgB,GAAG;;YACxB,MAAM,EAAE,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAgB,EAAE;gBAC3E,QAAQ,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE;gBACtD,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,cAAE,IAAI,CAAC,OAAO,0CAAE,YAAY,0CAAE,YAAY;gBAC/C,MAAM,EAAE,IAAI,CAAC,UAAU;aACxB,CAAC,CAAC;YACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC7B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YACjB,OAAO,EAAE,CAAC;SACX,CAAA;QA0BO,gBAAW,GAAG,CAAC,IAAc,EAAE,aAA6B,EAAE,CAAa;YACjF,IAAI,CAAC,QAAQ,GAAG;gBACd,IAAI,EAAE,aAAa,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO,EAAE;gBACvE,YAAY,EAAE,aAAa,CAAC,QAAQ;aACrC,CAAC;YACF,aAAa,CAAC,aAAa,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC3B,CAAA;QAEO,cAAS,GAAG;YAClB,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1B,IAAI,QAAQ;gBAAE,QAAQ,CAAC,aAAa,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3D,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,OAAO,IAAI,CAAC,QAAQ,CAAC;SACtB,CAAA;QAEO,WAAM,GAAG,CAAC,IAAc,EAAE,aAA6B,EAAE,CAAa;YAC5E,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,QAAQ;gBAAE,OAAO;YACtB,IAAI,CAAC,cAAc,EAAE,qBAAqB,EAAE,kBAAkB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC9E,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,IAAI,CAAC,eAAe,EAAE,sBAAsB,EAAE,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACjF,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;aACzB;YACD,IAAI,CAAC,aAAa,EAAE,kBAAkB,EAAE,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBAC3E,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;aACvB;YACD,IAAI,CAAC,gBAAgB,EAAE,qBAAqB,EAAE,sBAAsB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACpF,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;aAC1B;YAED,IAAI,gBAAgB,KAAK,IAAI;gBAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;SACrD,CAAA;QAEO,YAAO,GAAG,CAAC,aAA6B;YAC9C,MAAM,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;YAC9E,MAAM,SAAS,GAAG,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;YAC3C,aAAa,CAAC,MAAM,GAAG,SAAS,CAAC;YACjC,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI;gBACzB,IAAI,UAAU;oBAAE,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;gBACjC,IAAI,IAAI,KAAK,aAAa;oBAAE,UAAU,GAAG,IAAI,CAAC;aAC/C,CAAC,CAAC;SACJ,CAAA;QAEO,YAAO,GAAG,CAAC,aAA6B;;YAC9C,MAAM,EAAE,cAAc,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE,GAAG,IAAI,CAAC;YAC3D,MAAM,KAAK,GAAG,cAAc,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;YACpD,IAAI,KAAK,GAAG,CAAC,IAAI,IAAI,CAAC,QAAQ;gBAAE,OAAO;YACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,EAAE,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,EAAE;gBAClE,MAAM,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,2BAA2B,KAAI,OAAO,CAAC,2BAA2B;gBACxF,MAAM,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,2BAA2B,KAAI,OAAO,CAAC,2BAA2B;gBACxF,KAAK,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,0BAA0B,KAAI,OAAO,CAAC,0BAA0B;gBACrF,IAAI,EAAE,YAAY,CAChB,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,yBAAyB,KAAI,OAAO,CAAC,yBAAyB,EAC5E,EAAE,IAAI,EAAE,OAAA,cAAc,CAAC,KAAK,CAAC,0CAAE,KAAK,KAAI,EAAE,EAAE,CAC7C;gBACD,QAAQ,EAAE;;oBACR,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,GAAG;oBACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACvB;gBACD,QAAQ,EAAE;;oBACR,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,GAAG;oBACnB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;oBACtB,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBAChC,aAAa,CAAC,OAAO,EAAE,CAAC;iBACzB;aACF,CAAC,CAAC;SACJ,CAAA;QApHC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE,CAAC;KACf;IA9CD,IAAW,QAAQ;QACjB,OAAO,IAAI,CAAC,UAAU,CAAC;KACxB;IACD,IAAW,QAAQ,CAAC,GAAY;QAC9B,MAAM,EAAE,UAAU,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC;QAC5C,IAAI,UAAU,KAAK,GAAG;YAAE,OAAO;QAC/B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC;QACtB,cAAc,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;KACjD;IAGD,IAAW,MAAM;QACf,OAAO,IAAI,CAAC,WAAW,CAAC;KACzB;IACD,IAAW,MAAM,CAAC,GAAY;QAC5B,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,WAAW,KAAK,GAAG;YAAE,OAAO;QAChC,IAAI,GAAG;YAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,SAAS,CAAC,GAAG,CAACC,KAAG,CAAC,MAAM,CAAC,CAAC;;YAClE,IAAI,CAAC,MAAM,CAAC,MAAM,CAAiB,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,MAAM,CAAC,CAAC;KACxE;IAMD,IAAY,kBAAkB;QAC5B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,EAAE,WAAW,EAAE,GAAG,IAAI,CAAC;QAC7B,OAAO,WAAW,GAAG,WAAW,GAAG,GAAG,CAAC;KACxC;IAED,IAAY,UAAU;QACpB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC;QAChC,OAAO,cAAc,CAAC,MAAM;cACxB,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC;cAChE,CAAC,CAAC;KACP;IA2BM,MAAM;QACX,MAAM,EAAE,SAAS,GAAG,EAAE,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC;QAChD,KAAK,CAAC,MAAM,CAAC,OAAEA,KAAG,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,GAAGA,KAAG,CAAC,MAAM,GAAG,EAAE,EAAE,CAAC,CAAC;QACnE,MAAM,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,uBAAuB,CAAgB,CAAC;QAClF,qBAAqB,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,GAAG,QAAQ,CAAC;QAC3D,IAAI,CAAC,YAAY,EAAE,CAAC;KACrB;IAEM,OAAO;;QACZ,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,GAAG;QACnB,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,YAAY;QAClB,MAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAgB,CAAC;QACtE,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KAClE;IAEO,eAAe;QACrB,MAAM,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAgB,CAAC;QACtE,eAAe,CAAC,mBAAmB,CAAC,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;KACrE;IA0EO,kBAAkB;QACxB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,QAAwB,CAAC;QAC/C,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,gBAAgB,CAAC,CAAC;QAC/F,IAAI,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;YAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,cAAc,CAAC,CAAC;QAC7F,IAAI,CAAC,qBAAqB,EAAE,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YAC/D,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,gBAAgB,CAAC,CAAC;SAC1C;QACD,IAAI,CAAC,sBAAsB,EAAE,kBAAkB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;YAC/D,IAAI,CAAC,SAAS,CAAC,GAAG,CAACA,KAAG,CAAC,iBAAiB,CAAC,CAAC;SAC3C;KACF;IAEO,kBAAkB;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,gBAAgB,CAAC,CAAC;QAC5C,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,cAAc,CAAC,CAAC;QAC1C,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,gBAAgB,CAAC,CAAC;QAC5C,IAAI,CAAC,SAAS,CAAC,MAAM,CAACA,KAAG,CAAC,iBAAiB,CAAC,CAAC;KAC9C;IAEO,yBAAyB,CAAC,IAAoB;QACpD,MAAM,EAAE,cAAc,EAAE,GAAG,IAAI,CAAC;QAChC,OAAO,cAAc,CAAC,MAAM,CAAC,IAAI,IAAI,IAAI,KAAK,IAAI,CAAC,CAAC;KACrD;IAEO,yBAAyB,CAAC,aAA6B;QAC7D,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAI,CAAC;QACpC,OAAOM,aAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,CAC/D,GAAa,EAAE,IAAoB;YAEnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACtC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACf,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC,CAAC;YACtB,OAAO,GAAG,CAAC;SACZ,EAAE,EAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAY,KAAc,CAAC,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,CACrF,KAAK,EAAE,MAAM;YAEb,OAAO,KAAK,GAAG,MAAM,CAAC;SACvB,CAAC,CAAC,MAAM,CAAC,CACR,GAAsB,EAAE,QAAgB,EAAE,KAAa,EAAE,GAAa;YAEtE,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1C,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1C,IAAI,QAAQ,IAAI,CAAC;gBAAE,OAAO,GAAG,CAAC;YAC9B,GAAG,CAAC,IAAI,CAAC;gBACP,QAAQ;gBACR,WAAW,EAAE,YAAY,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,QAAQ,GAAG,YAAY,IAAI,CAAC,CAAC;sBACxF,kBAAkB;gBACtB,SAAS,EAAE,YAAY,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,QAAQ,GAAG,YAAY,IAAI,CAAC,CAAC;sBACtF,kBAAkB;aACvB,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;SACZ,EAAE,EAAuB,CAAC,CAAC;KAC7B;IAEO,uBAAuB,CAAC,aAA6B;QAC3D,MAAM,EAAE,kBAAkB,EAAE,GAAG,IAAI,CAAC;QACpC,OAAOA,aAAI,CAAC,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,CAC/D,GAAa,EAAE,IAAoB;YAEnC,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;YACtC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACd,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;YACvB,OAAO,GAAG,CAAC;SACZ,EAAE,EAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAY,KAAc,CAAC,KAAK,IAAI,IAAI,GAAG,KAAK,IAAI,CAAC,CAAC,IAAI,CAAC,CACrF,KAAK,EAAE,MAAM;YAEb,OAAO,KAAK,GAAG,MAAM,CAAC;SACvB,CAAC,CAAC,MAAM,CAAC,CACR,GAAsB,EAAE,QAAgB,EAAE,KAAa,EAAE,GAAa;YAEtE,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1C,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YAC1C,IAAI,QAAQ,IAAI,CAAC;gBAAE,OAAO,GAAG,CAAC;YAC9B,GAAG,CAAC,IAAI,CAAC;gBACP,QAAQ;gBACR,WAAW,EAAE,YAAY,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,QAAQ,GAAG,YAAY,IAAI,CAAC,CAAC;sBACxF,kBAAkB;gBACtB,SAAS,EAAE,YAAY,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,CAAC,QAAQ,GAAG,YAAY,IAAI,CAAC,CAAC;sBACtF,kBAAkB;aACvB,CAAC,CAAC;YACH,OAAO,GAAG,CAAC;SACZ,EAAE,EAAuB,CAAC,CAAC;KAC7B;IAEO,cAAc,CAAC,CAAa;QAClC,MAAM,EACJ,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,GAC5D,GAAG,IAAI,CAAC,QAAwB,CAAC;QAClC,MAAM,sBAAsB,GAAG,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,CAAC;QAC7E,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;QACnC,MAAM,MAAM,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC;QAC9C,MAAM,cAAc,GAAG,MAAM,GAAG,SAAS,GAAG,GAAG,CAAC;QAChD,IAAI,OAAO,GAAG,IAAI,GAAG,cAAc,CAAC;QACpC,sBAAsB,CAAC,IAAI,CAAC,CAAC,IAAqB;YAChD,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;YAClD,MAAM,SAAS,GAAG,QAAQ,GAAG,WAAW,CAAC;YACzC,MAAM,SAAS,GAAG,QAAQ,GAAG,SAAS,CAAC;YACvC,IAAI,OAAO,GAAG,SAAS,IAAI,OAAO,GAAG,SAAS;gBAAE,OAAO,KAAK,CAAC;YAC7D,OAAO,GAAG,QAAQ,CAAC;YACnB,OAAO,IAAI,CAAC;SACb,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,KAAK,GAAG,wBAAwB,GAAG,SAAS,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACtF,aAAa,CAAC,QAAQ,mCACjB,aAAa,CAAC,QAAQ,KAAE,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,GACzE,CAAC;KACH;IAEO,eAAe,CAAC,CAAa;QACnC,MAAM,EACJ,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,GAC5D,GAAG,IAAI,CAAC,QAAwB,CAAC;QAClC,MAAM,sBAAsB,GAAG,IAAI,CAAC,yBAAyB,CAAC,aAAa,CAAC,CAAC;QAC7E,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;QACnC,MAAM,MAAM,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC;QAC9C,MAAM,cAAc,GAAG,MAAM,GAAG,SAAS,GAAG,GAAG,CAAC;QAChD,IAAI,QAAQ,GAAG,KAAK,GAAG,cAAc,CAAC;QACtC,sBAAsB,CAAC,IAAI,CAAC,CAAC,IAAqB;YAChD,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;YAClD,MAAM,aAAa,GAAG,GAAG,GAAG,QAAQ,CAAC;YACrC,MAAM,SAAS,GAAG,aAAa,GAAG,SAAS,CAAC;YAC5C,MAAM,SAAS,GAAG,GAAG,GAAG,QAAQ,GAAG,WAAW,CAAC;YAC/C,IAAI,QAAQ,GAAG,SAAS,IAAI,QAAQ,GAAG,SAAS;gBAAE,OAAO,KAAK,CAAC;YAC/D,QAAQ,GAAG,aAAa,CAAC;YACzB,OAAO,IAAI,CAAC;SACb,CAAC,CAAC;QACH,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,wBAAwB,GAAG,SAAS,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACtF,aAAa,CAAC,QAAQ,mCACjB,aAAa,CAAC,QAAQ,KAAE,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,GAC5E,CAAC;KACH;IAEO,aAAa,CAAC,CAAa;QACjC,MAAM,EACJ,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,GAC5D,GAAG,IAAI,CAAC,QAAwB,CAAC;QAClC,MAAM,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,CAAC;QACzE,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;QACrC,MAAM,MAAM,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC;QAC7C,MAAM,cAAc,GAAG,MAAM,GAAG,UAAU,GAAG,GAAG,CAAC;QACjD,IAAI,MAAM,GAAG,GAAG,GAAG,cAAc,CAAC;QAClC,oBAAoB,CAAC,IAAI,CAAC,CAAC,IAAqB;YAC9C,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;YAClD,MAAM,SAAS,GAAG,QAAQ,GAAG,WAAW,CAAC;YACzC,MAAM,SAAS,GAAG,QAAQ,GAAG,SAAS,CAAC;YACvC,IAAI,MAAM,GAAG,SAAS,IAAI,MAAM,GAAG,SAAS;gBAAE,OAAO,KAAK,CAAC;YAC3D,MAAM,GAAG,QAAQ,CAAC;YAClB,OAAO,IAAI,CAAC;SACb,CAAC,CAAC;QACH,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,MAAM,GAAG,yBAAyB,GAAG,UAAU,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACxF,aAAa,CAAC,QAAQ,mCACjB,aAAa,CAAC,QAAQ,KAAE,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GACtE,CAAC;KACH;IAEO,gBAAgB,CAAC,CAAa;QACpC,MAAM,EACJ,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,EAAE,GAAG,EAAE,MAAM,EAAE,GAC5D,GAAG,IAAI,CAAC,QAAwB,CAAC;QAClC,MAAM,oBAAoB,GAAG,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,CAAC;QACzE,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;QACrC,MAAM,MAAM,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC;QAC7C,MAAM,cAAc,GAAG,MAAM,GAAG,UAAU,GAAG,GAAG,CAAC;QACjD,IAAI,SAAS,GAAG,MAAM,GAAG,cAAc,CAAC;QACxC,oBAAoB,CAAC,IAAI,CAAC,CAAC,IAAqB;YAC9C,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;YAClD,MAAM,cAAc,GAAG,GAAG,GAAG,QAAQ,CAAC;YACtC,MAAM,SAAS,GAAG,cAAc,GAAG,SAAS,CAAC;YAC7C,MAAM,SAAS,GAAG,GAAG,GAAG,QAAQ,GAAG,WAAW,CAAC;YAC/C,IAAI,SAAS,GAAG,SAAS,IAAI,SAAS,GAAG,SAAS;gBAAE,OAAO,KAAK,CAAC;YACjE,SAAS,GAAG,cAAc,CAAC;YAC3B,OAAO,IAAI,CAAC;SACb,CAAC,CAAC;QACH,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,yBAAyB,GAAG,UAAU,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC;QACxF,aAAa,CAAC,QAAQ,mCACjB,aAAa,CAAC,QAAQ,KAAE,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAC/E,CAAC;KACH;IAEO,YAAY,CAAC,CAAa;QAChC,MAAM,EACJ,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,GACzE,GAAG,IAAI,CAAC,QAAwB,CAAC;QAClC,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC;QAChD,MAAM,cAAc,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC;QACrD,MAAM,gBAAgB,GAAG,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC,IAAI,CAAC;QACxD,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC;QAClE,MAAM,sBAAsB,GAAG,cAAc,GAAG,UAAU,GAAG,GAAG,CAAC;QACjE,MAAM,wBAAwB,GAAG,gBAAgB,GAAG,SAAS,GAAG,GAAG,CAAC;QACpE,MAAM,aAAa,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,CAAC;QACzC,MAAM,cAAc,GAAG,GAAG,GAAG,GAAG,GAAG,MAAM,CAAC;QAE1C,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,wBAAwB,EAAE,CAAC,CAAC,CAAC;QAC3D,IAAI,QAAQ,GAAG,GAAG,GAAG,aAAa,GAAG,OAAO,CAAC;QAC7C,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,sBAAsB,EAAE,CAAC,CAAC,CAAC;QACvD,IAAI,SAAS,GAAG,GAAG,GAAG,cAAc,GAAG,MAAM,CAAC;QAC9C,IAAI,QAAQ,GAAG,CAAC,EAAE;YAChB,QAAQ,GAAG,CAAC,CAAC;YACb,OAAO,GAAG,GAAG,GAAG,aAAa,CAAC;SAC/B;QACD,IAAI,SAAS,GAAG,CAAC,EAAE;YACjB,SAAS,GAAG,CAAC,CAAC;YACd,MAAM,GAAG,GAAG,GAAG,cAAc,CAAC;SAC/B;QACD,aAAa,CAAC,QAAQ,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;KAC7F;;;AChYH,MAAM,SAAU,SAAQR,mBAAc;IA4CpC,YAAY,SAAsB,EAAE,UAAuB,EAAE;QAC3D,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;QAjBrB,cAAS,GAAW,CAAC,CAAC;QAGb,gBAAW,GAAe,EAAE,CAAC;QAC7B,YAAO,GAAY,IAAIG,mBAAO,CAACC,oCAAwB,CAAC,CAAC;QAiDlE,4BAAuB,GAAG,CAAC,CAAgB;YACjD,MAAM,EAAE,aAAa,EAAE,GAAG,IAAI,CAAC;YAC/B,CAAC,CAAC,cAAc,EAAE,CAAC;YACnB,IAAI,aAAa,EAAE;gBACjB,aAAa,CAAC,gBAAgB,EAAE,CAAC;aAClC;SACF,CAAA;QAEO,oBAAe,GAAG,CAAC,KAAa;YACtC,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;gBAChC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI;oBAC5B,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,OAAO,CAAC;iBAChC,CAAC,CAAC;aACJ;SACF,CAAA;QAEO,oBAAe,GAAG,CAAC,KAAa;YACtC,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE,GAAG,IAAI,CAAC;YAClE,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC;YAE5C,IAAI,CAAC,EAAE,GAAI,IAAI,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,EAAE;gBACnE,MAAM,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,0BAA0B,KAAI,OAAO,CAAC,0BAA0B;gBACtF,MAAM,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,0BAA0B,KAAI,OAAO,CAAC,0BAA0B;gBACtF,KAAK,EAAE,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,yBAAyB,KAAI,OAAO,CAAC,yBAAyB;gBACnF,IAAI,EAAE,YAAY,CAChB,CAAA,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,wBAAwB,KAAI,OAAO,CAAC,wBAAwB,EAC1E,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CACrC;gBACD,QAAQ,EAAE;;oBACR,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,GAAG;oBACnB,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;iBAC9C;gBACD,QAAQ,EAAE;;oBACR,MAAA,IAAI,CAAC,EAAE,0CAAE,OAAO,GAAG;oBACnB,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC;oBAC7C,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;oBAC1C,MAAM,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;oBACrC,IAAI,YAAY,GAAG,KAAK,KAAK,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC;oBAChF,IAAI,SAAS,GAAG,KAAK;wBAAE,YAAY,GAAG,SAAS,GAAG,CAAC,CAAC;oBACpD,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC;oBACjE,IAAI,OAAO,EAAE;wBACX,MAAM,YAAY,GAAG,WAAW,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBAClD,OAAO,CAAC,OAAO,EAAE,CAAC;wBAClB,IAAI,YAAY,IAAI,CAAC;4BAAE,WAAW,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;qBAC5D;oBACD,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;iBACpC;aACF,CAAC,CAAC;SACJ,CAAA;QAEO,kBAAa,GAAG;;YACtB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC;YACnC,MAAM,OAAO,GAAG;gBACd,KAAK,EAAE,OAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,YAAY,0CAAE,WAAW,KAAI,OAAO,CAAC,WAAW;gBAAE,EAAE,EAAE,IAAI,CAAC,SAAS;aACrF,CAAC;YACF,QAAQ,CAAC,IAAI,GAAG,CAAC,GAAG,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YAC5C,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;YACpB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAClC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;SAChD,CAAA;QAhGC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,MAAM,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAgB,CAAC,CAAC;QAC9D,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACzD,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QACzD,QAAQ,CAAC,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QAC5F,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,uBAAuB,kBAC9D,IAAI,EAAE,UAAU,KAAM,MAAM,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,GACpE,CAAC;QACH,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KAC1B;IAxDD,IAAW,IAAI,CAAC,GAA6B;QAC3C,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;QAC1B,QAAQ,CAAC,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,IAA0B;YACjD,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gBAC5B,MAAM,OAAO,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC;gBACpD,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;gBACpB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBAClC,OAAO,OAAO,CAAC;aAChB;YACD,OAAQ,IAAI,CAAC;SACd,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;KAC1C;IAED,IAAW,IAAI;QACb,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;KAC3B;IAED,IAAW,SAAS,CAAC,GAAW;QAC9B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAC;KAC/B;IAED,IAAW,SAAS;QAClB,OAAO,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;KAChC;IAQD,IAAY,aAAa;QACvB,MAAM,EAAE,SAAS,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC;QACpC,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;KACtC;IACO,aAAa,CAAC,KAAa;QACjC,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO;YAAE,OAAO,IAAI,CAAC;QAC1B,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,CAAC;QACvB,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC,IAAI,IAAI,CAAC;KAC9D;IAiBM,MAAM;QACX,KAAK,CAAC,MAAM,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;KACvB;IAEM,OAAO;QACZ,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC;QACpD,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAChE,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;QACtD,OAAO,CAAC,OAAO,EAAE,CAAC;QAClB,WAAW,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QAC5C,QAAQ,CAAC,OAAO,EAAE,CAAC;QACnB,EAAE,aAAF,EAAE,uBAAF,EAAE,CAAE,OAAO,GAAG;QACd,KAAK,CAAC,OAAO,EAAE,CAAC;KACjB;IAEO,gBAAgB,CAAC,EAAU,EAAE,SAAkB,IAAI;QACzD,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC;QACtC,WAAW,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAgB,EAAE;YAClE,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,WAAW,EAAE,YAAY,EAAE,OAAO,CAAC,YAAY;SAC3E,CAAC,CAAC,CAAC;KACL;;;AC5FH,MAAM,qBAAqB;IAEzB,YAAY,SAAsB,EAAE,OAAoB;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,SAAS,EAAE,EAAE,YAAY,EAAE,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC;QAClF,IAAI,WAAW,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,EAAE,KAAa;YACtE,IAAI,OAAO;gBAAE,WAAW,GAAG,KAAK,CAAC;YACjC,OAAO,IAAI,IAAI,EAAE,CAAC;SACnB,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,WAAW,CAAC;KACxC;IAEM,OAAO;QACZ,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;KAC1B;;;;;"}